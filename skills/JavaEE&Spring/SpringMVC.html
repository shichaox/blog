<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring MVC | 琅玕的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="个人编程技术分享">
    
    <link rel="preload" href="/blog/assets/css/0.styles.671fbdd0.css" as="style"><link rel="preload" href="/blog/assets/js/app.e95f8842.js" as="script"><link rel="preload" href="/blog/assets/js/3.08356745.js" as="script"><link rel="preload" href="/blog/assets/js/9.66ed6f07.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.acf34bf9.js"><link rel="prefetch" href="/blog/assets/js/11.fef1fa27.js"><link rel="prefetch" href="/blog/assets/js/12.c774ebf1.js"><link rel="prefetch" href="/blog/assets/js/13.bf6af2da.js"><link rel="prefetch" href="/blog/assets/js/14.7b60b543.js"><link rel="prefetch" href="/blog/assets/js/15.5515032c.js"><link rel="prefetch" href="/blog/assets/js/16.3c0cd04c.js"><link rel="prefetch" href="/blog/assets/js/17.80206c1e.js"><link rel="prefetch" href="/blog/assets/js/18.e5e2c85c.js"><link rel="prefetch" href="/blog/assets/js/19.2f69b079.js"><link rel="prefetch" href="/blog/assets/js/2.9988781b.js"><link rel="prefetch" href="/blog/assets/js/20.7a923a3b.js"><link rel="prefetch" href="/blog/assets/js/21.d81d0001.js"><link rel="prefetch" href="/blog/assets/js/22.2fe5ab39.js"><link rel="prefetch" href="/blog/assets/js/23.99bc8ff5.js"><link rel="prefetch" href="/blog/assets/js/24.1fcf63f7.js"><link rel="prefetch" href="/blog/assets/js/25.a5536fa6.js"><link rel="prefetch" href="/blog/assets/js/26.e2fb222c.js"><link rel="prefetch" href="/blog/assets/js/27.03389df0.js"><link rel="prefetch" href="/blog/assets/js/28.4b72525f.js"><link rel="prefetch" href="/blog/assets/js/29.03a090ad.js"><link rel="prefetch" href="/blog/assets/js/30.87f31b47.js"><link rel="prefetch" href="/blog/assets/js/31.c639ea6f.js"><link rel="prefetch" href="/blog/assets/js/32.795ca246.js"><link rel="prefetch" href="/blog/assets/js/33.647699a4.js"><link rel="prefetch" href="/blog/assets/js/34.2909ac9c.js"><link rel="prefetch" href="/blog/assets/js/35.b5d4b577.js"><link rel="prefetch" href="/blog/assets/js/36.474a6bcb.js"><link rel="prefetch" href="/blog/assets/js/37.4590b450.js"><link rel="prefetch" href="/blog/assets/js/38.1cfbe263.js"><link rel="prefetch" href="/blog/assets/js/39.4c159456.js"><link rel="prefetch" href="/blog/assets/js/4.1c4b8134.js"><link rel="prefetch" href="/blog/assets/js/40.c52cb9af.js"><link rel="prefetch" href="/blog/assets/js/41.f77d6a1f.js"><link rel="prefetch" href="/blog/assets/js/42.c45631ae.js"><link rel="prefetch" href="/blog/assets/js/43.44644811.js"><link rel="prefetch" href="/blog/assets/js/44.c40d24aa.js"><link rel="prefetch" href="/blog/assets/js/45.0c1b86d7.js"><link rel="prefetch" href="/blog/assets/js/46.85dd5346.js"><link rel="prefetch" href="/blog/assets/js/47.a52d8379.js"><link rel="prefetch" href="/blog/assets/js/48.dfaedde6.js"><link rel="prefetch" href="/blog/assets/js/49.604893e5.js"><link rel="prefetch" href="/blog/assets/js/5.b41d7dd5.js"><link rel="prefetch" href="/blog/assets/js/50.228c7e1a.js"><link rel="prefetch" href="/blog/assets/js/51.7a95ac4e.js"><link rel="prefetch" href="/blog/assets/js/52.79ff7d2e.js"><link rel="prefetch" href="/blog/assets/js/53.7aeffa50.js"><link rel="prefetch" href="/blog/assets/js/54.c7097067.js"><link rel="prefetch" href="/blog/assets/js/6.31dc016b.js"><link rel="prefetch" href="/blog/assets/js/7.96c397d1.js"><link rel="prefetch" href="/blog/assets/js/8.e97d6841.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.671fbdd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">琅玕的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  学习
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  资源分享
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  学习
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  资源分享
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/skills/IoT" class="sidebar-heading clickable"><span>IoT</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/IoT/基于NodeMcu的智慧生态农业系统设计.html" class="sidebar-link">基于NodeMcu的智慧生态农业系统设计</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/JavaSE" class="sidebar-heading clickable"><span>JavaSE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/JavaSE/File类和IO流.html" class="sidebar-link">File类和IO流</a></li><li><a href="/blog/skills/JavaSE/Java基础手写笔记.html" class="sidebar-link">/skills/JavaSE/Java基础手写笔记.html</a></li><li><a href="/blog/skills/JavaSE/Java常用API.html" class="sidebar-link">Java常用API</a></li><li><a href="/blog/skills/JavaSE/Thread.html" class="sidebar-link">Thread</a></li><li><a href="/blog/skills/JavaSE/内部类.html" class="sidebar-link">内部类</a></li><li><a href="/blog/skills/JavaSE/反射.html" class="sidebar-link">反射</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/DSDB" class="sidebar-heading clickable"><span>DSDB</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/DSDB/Collection.html" class="sidebar-link">Java的集合类</a></li><li><a href="/blog/skills/DSDB/HTTP&amp;Tomcat.html" class="sidebar-link">HTTP&amp;Tomcat</a></li><li><a href="/blog/skills/DSDB/JDBC.html" class="sidebar-link">JDBC</a></li><li><a href="/blog/skills/DSDB/Map.html" class="sidebar-link">Map</a></li><li><a href="/blog/skills/DSDB/Maven.html" class="sidebar-link">Maven</a></li><li><a href="/blog/skills/DSDB/Mybatis.html" class="sidebar-link">Mybatis</a></li><li><a href="/blog/skills/DSDB/SQL.html" class="sidebar-link">SQL</a></li><li><a href="/blog/skills/DSDB/Stream.html" class="sidebar-link">Stream</a></li><li><a href="/blog/skills/DSDB/前端.html" class="sidebar-link">前端</a></li><li><a href="/blog/skills/DSDB/数据库索引.html" class="sidebar-link">数据库索引</a></li><li><a href="/blog/skills/DSDB/连接池.html" class="sidebar-link">/skills/DSDB/连接池.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/JavaEE&amp;Spring" class="sidebar-heading clickable router-link-active open"><span>JavaEE&amp;Spring</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/JavaEE&amp;Spring/MyBatis-Spring.html" class="sidebar-link">MyBatis - Spring、Spring事务</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/Request&amp;Response.html" class="sidebar-link">Request &amp; Response</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/Servlet.html" class="sidebar-link">Servlet</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringAOP.html" class="sidebar-link">Spring AOP</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringBoot.html" class="sidebar-link">SpringBoot</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringIOC.html" class="sidebar-link">Spring IOC</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html" aria-current="page" class="active sidebar-link">Spring MVC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_1-使用方法-快速开始" class="sidebar-link">1. 使用方法(快速开始)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_1-1-引入依赖" class="sidebar-link">1.1 引入依赖</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_1-2-配置" class="sidebar-link">1.2 配置</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_1-3-详细配置步骤" class="sidebar-link">1.3 详细配置步骤：</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_1-4-controller使用" class="sidebar-link">1.4 @Controller使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_2-requestmapping注解的使用" class="sidebar-link">2. @RequestMapping注解的使用</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_3-请求报文的参数获取" class="sidebar-link">3. 请求报文的参数获取</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#multipart" class="sidebar-link">multipart</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_4-restful风格接口" class="sidebar-link">4. RESTful风格接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_4-1-pathvariable" class="sidebar-link">4.1 @PathVariable</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_4-2-requestparam" class="sidebar-link">4.2 @RequestParam</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_4-3-requestheader" class="sidebar-link">4.3 @RequestHeader</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_5-handler方法的返回值" class="sidebar-link">5. Handler方法的返回值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_5-1-返回json数据" class="sidebar-link">5.1 返回Json数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_6-静态资源处理" class="sidebar-link">6. 静态资源处理</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_7-异常处理" class="sidebar-link">7. 异常处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_7-1-exceptionhandler注解" class="sidebar-link">7.1 @ExceptionHandler注解</a></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_7-2-handlerexcpetionresolver" class="sidebar-link">7.2 HandlerExcpetionResolver</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html#_8-handlerinterceptor" class="sidebar-link">8. HandlerInterceptor</a></li></ul></li><li><a href="/blog/skills/JavaEE&amp;Spring/设计模式.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/微服务" class="sidebar-heading clickable"><span>微服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/微服务/ElasticSearch.html" class="sidebar-link">ElasticSearch</a></li><li><a href="/blog/skills/微服务/Gateway.html" class="sidebar-link">Gateway</a></li><li><a href="/blog/skills/微服务/MapStruct.html" class="sidebar-link">MapStruct</a></li><li><a href="/blog/skills/微服务/Mybatis-Plus.html" class="sidebar-link">Mybatis-Plus</a></li><li><a href="/blog/skills/微服务/Nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/blog/skills/微服务/Redis.html" class="sidebar-link">Redis</a></li><li><a href="/blog/skills/微服务/Redis在Java项目中的使用.html" class="sidebar-link">Redis在Java项目中的使用</a></li><li><a href="/blog/skills/微服务/RocketMQ.html" class="sidebar-link">RocketMQ</a></li><li><a href="/blog/skills/微服务/SpringCloud.html" class="sidebar-link">SpringCloud</a></li><li><a href="/blog/skills/微服务/微服务.html" class="sidebar-link">微服务</a></li><li><a href="/blog/skills/微服务/微服务架构和单体架构.html" class="sidebar-link">微服务架构和单体架构</a></li><li><a href="/blog/skills/微服务/秒杀.html" class="sidebar-link">秒杀</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/面试" class="sidebar-heading clickable"><span>面试</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/面试/面经.html" class="sidebar-link">面经</a></li><li><a href="/blog/skills/面试/面试准备.html" class="sidebar-link">面试准备</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spring-mvc"><a href="#spring-mvc" class="header-anchor">#</a> Spring MVC</h1> <blockquote><p>SpringMVC只有一个Servlet:DispatcherServlet，DispatcherServlet接收所有的请求，然后转发给对应的Controller</p></blockquote> <p>AACDSI: AbstractAnnotationConfigDispatcherServletInitializer类</p> <p>DispatcherServlet: SpringMVC通过DispatcherServlet接收全部的请求，然后分发给不同的方法。</p> <h2 id="_1-使用方法-快速开始"><a href="#_1-使用方法-快速开始" class="header-anchor">#</a> 1. 使用方法(快速开始)</h2> <h3 id="_1-1-引入依赖"><a href="#_1-1-引入依赖" class="header-anchor">#</a> 1.1 引入依赖</h3> <p>spring-webmvc以及spring等其他依赖</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-2-配置"><a href="#_1-2-配置" class="header-anchor">#</a> 1.2 配置</h3> <p>① 创建一个类继承AACDSI</p> <p>② 创建一个配置类用于配置根应用的容器(<strong>Spring容器</strong>)</p> <p>③ 创建一个配置类用于配置DispatcherServlet的容器(<strong>Spring MVC容器</strong>)</p> <blockquote><p>②和③中分别创建了一个WebApplicationContext，</p> <p>②中创建的WebApplicationContext存放在ServletContext中，</p> <p>③中的WebApplicationContext从ServletContext中获取②中的WebApplicationContext作为成员变量</p></blockquote> <p>Spring容器主要包括Service层、DAO层等组件，SpringMVC容器主要包括Controller层的组件</p> <p>SpringMVC容器是子容器，Spring容器是父容器，子容器可以访问父容器。</p> <p>为什么要分别创建这两个容器(WebApplicationContext)？</p> <h3 id="_1-3-详细配置步骤"><a href="#_1-3-详细配置步骤" class="header-anchor">#</a> 1.3 详细配置步骤：</h3> <p>① 创建一个类继承AACDSI</p> <p>在该类中，通过getRootConfigClasses()获取②中的配置类，通过getServletConfigClasses()获取③中的配置类，通过getServletMappers()获取DispatcherServlet的url-pattern。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>springmvc<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationInitializer</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getRootConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">RootConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">WebConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>② 创建一个配置类用于配置应用上下文(spring)</p> <p>在类上面添加注释：</p> <p>@Configuration</p> <p>@ComponentScan(&quot;com.demo.springmvc&quot;)</p> <p>扫描目录为整个项目，但是会排除掉@Controller</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.demo.springmvc&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableTransactionManagement</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RootConfiguration</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DruidDataSource</span> druidDataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        druidDataSource<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        druidDataSource<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://localhost:3306/harvester_market?useUnicode=true&amp;characterEncoding=utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        druidDataSource<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        druidDataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> druidDataSource<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactoryBean</span> <span class="token function">sqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSessionFactoryBean</span> sqlSessionFactoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSessionFactoryBean<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSessionFactoryBean<span class="token punctuation">.</span><span class="token function">setTypeHandlersPackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.demo.springmvc.typehandler&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> sqlSessionFactoryBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MapperScannerConfigurer</span> <span class="token function">mapperScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MapperScannerConfigurer</span> mapperScannerConfigurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapperScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapperScannerConfigurer<span class="token punctuation">.</span><span class="token function">setBasePackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.demo.springmvc.mapper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapperScannerConfigurer<span class="token punctuation">.</span><span class="token function">setSqlSessionFactoryBeanName</span><span class="token punctuation">(</span><span class="token string">&quot;sqlSessionFactoryBean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> mapperScannerConfigurer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">PlatformTransactionManager</span> <span class="token function">transactionManager</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>③ 创建一个配置类用于配置DispatcherServlet(spring MVC)</p> <p>在类上面添加注释：</p> <p>@EnableWebMvc
@ComponentScan(&quot;com.demo.springmvc.controller&quot;)</p> <p>扫描目录为Controller层所在目录</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>springmvc<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableWebMvc</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.demo.springmvc.controller&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfiguration</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-4-controller使用"><a href="#_1-4-controller使用" class="header-anchor">#</a> 1.4 @Controller使用</h3> <p>Controller层都使用@Controller注解，SpringMVC唯一的Servlet (DispatcherServlet)会根据请求url找到Controller层@RequestMapping注解中的路径匹配的方法。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">AdminGoodsService</span> adminGoodsService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/admin/goods/create&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;hello create&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中@RequestMapping中的value对应请求报文的URI</p> <p>当返回类型是Object，并且有jackson相关依赖的时候，响应报文是json格式。</p> <h2 id="_2-requestmapping注解的使用"><a href="#_2-requestmapping注解的使用" class="header-anchor">#</a> 2. @RequestMapping注解的使用</h2> <p>可以写在Controller类上面，也可以写在Controller类的成员方法(<strong>Handler方法</strong>)上面，主要用于路径映射，用于确定该方法处理哪个(哪些)url请求。</p> <p>@RequestMapping的属性及作用</p> <table><thead><tr><th>属性</th> <th>作用</th></tr></thead> <tbody><tr><td>value</td> <td>路径映射，用于设置该方法处理哪个url请求</td></tr> <tr><td>method</td> <td>设置处理的请求方法(GET/POST)</td></tr> <tr><td>params</td> <td>限定请求报文携带指定的请求参数，如果没有携带就会报错</td></tr> <tr><td>headers</td> <td>限定要携带的请求头，如果没有携带就会报错</td></tr> <tr><td>consumes</td> <td>限定请求头的Content-Type，例如：consumes=&quot;application/json&quot;</td></tr> <tr><td>produces</td> <td>限定请求头的Accept、设置响应报文的Content-Type，例如：produces=&quot;application/json&quot;</td></tr></tbody></table> <p>@RequestMapping可以写在类上面，当类上面写了@RequestMapping后，</p> <p>Controller中的方法的映射路径 = <strong>类上面</strong>的@RequestMapping的value值 + <strong>方法上</strong>的@RequestMapping的value值</p> <p>@RequestMapping的method属性值设置可以替换成：GET: @GetMapping、Post: @PostMapping</p> <h2 id="_3-请求报文的参数获取"><a href="#_3-请求报文的参数获取" class="header-anchor">#</a> 3. 请求报文的参数获取</h2> <table><thead><tr><th>参数</th> <th>获取方法</th></tr></thead> <tbody><tr><td>请求行的qeuryString和请求体中的key=value</td> <td>1. 直接在方法的形参上写请求参数 2. 形参上使用引用数据类型对象接收</td></tr> <tr><td>请求体中的Json</td> <td><strong>在形参前加注解@RequestBody</strong>，在形参中使用一个引用型对象接收，也可以用Map、String接收</td></tr> <tr><td>multipart/form-data</td> <td>在配置类中注册一个组件mutipartResolver，在方法的形参中使用MutipartFile类型来接收，MutipartFile能够拿到和Part一样的信息</td></tr> <tr><td>Cookie和Session等其他信息</td> <td>通过HttpServletRequest获取，在形参中写HttpServletRequest</td></tr></tbody></table> <p>在形参中使用对象接收json数据<strong>一定要记得在形参前面加@RequestBody注解</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/create&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">GoodsDetailData</span> goodsDetailData<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> adminGoodsService<span class="token punctuation">.</span><span class="token function">insertGoodsDetail</span><span class="token punctuation">(</span>goodsDetailData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">getBaseRespVo</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="multipart"><a href="#multipart" class="header-anchor">#</a> multipart</h3> <p>方法形参名一定要和请求参数名一致</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">BaseRespVo</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> multipartFile<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
</code></pre></div><h2 id="_4-restful风格接口"><a href="#_4-restful风格接口" class="header-anchor">#</a> 4. RESTful风格接口</h2> <p>这些注解都是写在方法的形参前，用于获取形参的值，注解的value(注解括号里的字符串)都是要获取的参数在请求报文中的名字或占位符</p> <table><thead><tr><th>注解</th> <th>解释</th></tr></thead> <tbody><tr><td>@PathVariable</td> <td>将url中的指定的参数赋给形参，使用占位符指定</td></tr> <tr><td>@RequestParam</td> <td>获取指定的请求参数</td></tr> <tr><td>@RequestHeader</td> <td>获取指定的请求头的值</td></tr> <tr><td>@CookieValue</td> <td>获取指定Cookie的值</td></tr> <tr><td>@SessionAttribute</td> <td>获取指定Session的值</td></tr></tbody></table> <p>下列方法都是在下面的类中</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/parameter&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ParameterController</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-1-pathvariable"><a href="#_4-1-pathvariable" class="header-anchor">#</a> 4.1 @PathVariable</h3> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">pathVariable</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><img src="/blog/assets/img/image-20230914223059676.65684803.png" alt="image-20230914223059676"></p> <h3 id="_4-2-requestparam"><a href="#_4-2-requestparam" class="header-anchor">#</a> 4.2 @RequestParam</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/param&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">requestParam</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><img src="/blog/assets/img/image-20230914223027233.2852ad4a.png" alt="image-20230914223027233"></p> <h3 id="_4-3-requestheader"><a href="#_4-3-requestheader" class="header-anchor">#</a> 4.3 @RequestHeader</h3> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/header&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">requestHeader</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> contentType<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Accept&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> accept<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;Accept&quot;</span><span class="token punctuation">,</span> accept<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> map<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><img src="/blog/assets/img/image-20230914224705317.2277e518.png" alt="image-20230914224705317"></p> <h2 id="_5-handler方法的返回值"><a href="#_5-handler方法的返回值" class="header-anchor">#</a> 5. Handler方法的返回值</h2> <p>Handler方法就是Controller层处理url请求的方法。</p> <h3 id="_5-1-返回json数据"><a href="#_5-1-返回json数据" class="header-anchor">#</a> 5.1 返回Json数据</h3> <p>① 导入json相关依赖，例如：jackson-databind</p> <p>② @EnableWebMvc</p> <p>③ 方法上（或类上）添加注解@ResponseBody</p> <p><strong>引申注解：</strong>@RestController = @Controller + @RequestBody</p> <h2 id="_6-静态资源处理"><a href="#_6-静态资源处理" class="header-anchor">#</a> 6. 静态资源处理</h2> <p>在JavaEE阶段，可以通过默认的Servlet直接访问应用目录下的静态资源(例如：图片)，但是在使用了SpringMVC后，访问静态资源的请求也由DisPatcherServlet处理，想要访问静态资源，需要进行一些处理。另外，像图片这样的静态资源最好不要存放在应用路径，因为应用在重新部署的时候可能会将之前的资源误删。</p> <p>配置类实现WebMvcController接口，重写addResourcehandlers方法，添加映射路径和文件(资源)路径</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.demo.springmvc.controller&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfiguration</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span><span class="token class-name">ResourceHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">&quot;/wx/storage/fetch/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">&quot;file:d:/app1/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>addResourceHandler方法设置的是映射的路径，addResourceLocation方法设置的是要访问的资源的路径(也就是文件路径)</p> <p>文件路径有三种写法：</p> <table><thead><tr><th>方法</th> <th>写法</th></tr></thead> <tbody><tr><td>本地文件路径</td> <td>&quot;file:文件路径&quot;</td></tr> <tr><td>类加载路径</td> <td>&quot;classpath:文件路径&quot;</td></tr> <tr><td>web资源根路径</td> <td>&quot;/文件路径&quot;</td></tr></tbody></table> <p><img src="/blog/assets/img/image-20230915194852854.f7a99f55.png" alt="image-20230915194852854"></p> <h2 id="_7-异常处理"><a href="#_7-异常处理" class="header-anchor">#</a> 7. 异常处理</h2> <p>当发生异常时，执行指定的方法</p> <h3 id="_7-1-exceptionhandler注解"><a href="#_7-1-exceptionhandler注解" class="header-anchor">#</a> 7.1 @ExceptionHandler注解</h3> <p>用于处理指定类型的异常</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionControllerAdvice</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">MySQLSyntaxErrorException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">BaseRespVo</span> <span class="token function">handlerMySQLSyntaxException</span><span class="token punctuation">(</span><span class="token class-name">MySQLSyntaxErrorException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        exception<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//BaseRespVo是一个用于定义响应json报文的格式的对象</span>
        <span class="token class-name">BaseRespVo</span> resp <span class="token operator">=</span> <span class="token class-name">BaseRespVo</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setErrmsg</span><span class="token punctuation">(</span><span class="token string">&quot;检查一下SQL语法吧&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setErrno</span><span class="token punctuation">(</span><span class="token number">516</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>@ControllerAdvice本质上是一个@Component，用于使用了@ExceptionHandler等注解的类。</p> <p>@RestControllerAdvice = @ControllerAdvice + @ResponseBody， 可以用@RestControllerAdvice代替@ControllerAdvice和@ResponseBody</p> <p><img src="/blog/assets/img/image-20230915210328165.89035f41.png" alt="image-20230915210328165"></p> <h3 id="_7-2-handlerexcpetionresolver"><a href="#_7-2-handlerexcpetionresolver" class="header-anchor">#</a> 7.2 HandlerExcpetionResolver</h3> <p>用于处理全部异常</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomHandlerExceptionResolver</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerExceptionResolver</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">resolveException</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BaseRespVo</span> resp <span class="token operator">=</span> <span class="token class-name">BaseRespVo</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setErrmsg</span><span class="token punctuation">(</span><span class="token string">&quot;检查一下SQL语法吧&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setErrmsg</span><span class="token punctuation">(</span><span class="token string">&quot;516&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-handlerinterceptor"><a href="#_8-handlerinterceptor" class="header-anchor">#</a> 8. HandlerInterceptor</h2> <p>① 创建一个HandlerInterceptor的实现类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HandlerInterceptor1</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>② 在SpringMVC的配置类中重写addInterceptors方法</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HandlerInterceptor1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/user/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>addInterceptor方法设置的是①中自定义的拦截器(HandlerInterceptor)对象，addPathPatterns设置的是该拦截器的作用范围。</p> <p>在有多个自定义的拦截器时，自定义的拦截器的执行顺序和它们在addInterceptor方法中的书写顺序一致。</p> <p><img src="data:image/png;base64,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" alt="image-20230915212854491"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaUAAABYCAYAAABVqejdAAAgAElEQVR4nO2dfXhU1b3vPyNvE0SbKIkTRWt4uZoEIQlYSaz3wFBoEioeY+09TUys0vZejH1uDwGJDXCfB9HykqQ9rdRze0DrpIP31huseISpNIE+lMQXSCAlQYslCKghCWZUMMNb1v1j9rzvSWaSSTLA7/M8PJo9a6/1W3vvWd+91u/3W2NQSikEwQulFGe7HfT09Ay3KYIgXGWMHG4DhOiip6eHs90O5F1FEITh4JrhNkCILrod50SQBEEYNkSUBDdfORxckiU7QRCGERElAYALFy9y8eKl4TZDEISrHBElAQDHufPDbYIgCIKIkgDnzp8XP5IgCFFBxETpiy++5OTHn0SqukHhzJmznD9/YbjN0MX++ef842grn3V19SoQkbZfKcW5KL0mgiBcfUQkJLy9vYOfb6ikq8vOC7/+BTExxkhUG1EuXLxI/TvvYjQamZGextixMcNtEp9/8QU7/rSTt9/Zh91udx+/9tpruXtmBvPmzuGWmxMBp3hYX/kDM2ekc+cd/yViNpy7EDlBOn36M44d+4jPurq4IS6O25Nu58Yb4iJWvyAIVz4DFqX2jk63IJln/9eoFCSAUSNHMuGWmzn58SfsbzzAzIw0YmKGT5j2/LUOy+9f4cLFi4wbdy3T75pK4s0m2tpOcfzESXb/ZQ+7/7KHeXPn8L3vPshLFit19e8wc0Z6RO24eOHigM4/f/4Cb7/zLu++t4/jx08EfP71r9/GrHvuZtY932DEiBEDaKmJ9dOKsN67mpoXFjJ+ADUNlKZ1aRRas1hd+xseGB9dtvVF88ulVLV4/k4pWktRqk7B9t1UVNjo8JSkcF0RgUXb2V1eic1dMJ7skhJmJ/RVX5ByuvYGazu6CMnWZgullhbis5dQMqePzl+lDEiUOjtP8/P1FXR12bnvm1kUFvxLpOwaFJLvvAOlFB9/8in7GoZPmLb+8Q22/ed2EhNNFOb/CynJdwSUaTn8Pr/d9Dt21uyi7u13OHv2q4jb0dOj6BmAL+nMmS954X9v5sSJkwAkxCeQljaNa665hp6eHhoPHuSjj47z0UfHee+9Bn7848cZO4wvAlckndtYbF5F0u8P8NS03gq6xMNr0Gy2UGoppcJ/gPQaONfOSXCfW7Xc4jfgNmNZXkVLfDZL1s0mAWjfVUFlRSnHvcWufTcVFihctxZXK80vl1LlXy7A5N3YWoCUGVEvSJeVrVFOv31KnZ2neXZduVuQHn/0EQwGQyRtGxRSku/klpsTcTgc7Gs4QHd395C2v2dvPdv+czu33JzI/ypbritILjvLnl7K6NGjBkWQwLmk2V96enrYtNnCiRMnGXfttTz+WBEryp7iOwuyyc2Zz3cWZLPi6af4waOPMDYmhqOtrViqrBG0XgDo3GujLpSCzTZsHZBS5CUqqUUUpkCHzUazu2A7u3e0QHw2hW6hSmB2UTbxtGDb1e4puctGC/FkF812i03CnEKy46Flx27cJRNmU7LUUwYgNSebeKBlXzPBaG/eTwfxZOdE/zB/Odka7fRLlC5XQXLhL0wOx7khabenp4fXXn+DESOuoXjxjzEae1/q3PnnXYMamDGQve3+ureeo62txMQYKVnyP0mb7nxNP/LhP9i+4y2OfPgPDAYDGelp/OtPf8Lo0aNoaXmfxgMHI2W+EAbt7R26x+Nviwc66HApSHsL+zsgfkaKj4iQkMKMeOjY3+IWm47jenUmEB8PdBxHv0VXsXjie7W4GZutA+JnkBL1q1yXk63RT9jLd5e7ILlISb4TgI8/+ZT39jdw94wMjMYxg9rm3498yGefdXFv5j3cnGgKWk4pheX3r7DrL3sG1Z4e1T9RUkqxc2cNAA8/lMeNN97g/uzIkX9g+9NbwHymTJ4EwE03JbDw/u/w/6pf489/riU9bfqAbfdBW8LynjFkPfNnXnhAx7sTULaAqqZluFe+mjYw/RHfGV1Bn0tjYdQfts2av8r1p8tv5Xe+9ZE0Z5kCCweXm7SlOo/fJiHBJT7tkOoZOZ3CkkK8dsj9xp/qP7pqYtOyn5b22SQkaILW0sHxDvAoWDsdHUD8bb2LTnsHzmJBSjXvpwVIyXHNsHSWH91l9fw0/r4unfP69HN5LU/mHKfS4nTGBfjhAmz1tctNSiFrZwa9IH72EuB3cvqs4skuKQSLXt9C6LNuvwPbGk7CEqVTp9r5+YZfYLfbGTt2LDfExfLHbW+GfP6sb8wksZfBeKCcOXuWU6fa+y6oMWbMGEaOHInD4eC9/Q3MyEgbVJ9Hy+EPAJg6NaXXcic//oTrr7+eB+5fEPDZ+BtvjJg9qqd//qTW1mN8/sUXJMQnMHNmhs9nU6ZMAuZr//Vwb9YsbLa3OHHyY05/1hWxqLzO159g7so6Cn5/gBdcI3/nNhabv8V0m2/ggats1jN/5qB78G9i/bompi2f5hSkHd/mYNMyd/1N69IofOQJ7nAHNfTC3lXMNRdQ1XSAF9x2rKJw8R26dvRps3Y+3vZ2bmP965089cBCXmha6FOXRzh1vgOpRRSmlFJlq2J3qjbwNluoavFd0nOKlL5QOEXI83fCnEKy91dis1ho1ga/9l1Vmhj6DdA+NGOpsNERn80S3YFQW0IkhRn9Wg3TxCSlkLVLUz3HXm4m9VHt7wC/mcvPVQH+ARgdNip3ZLNkXZFOn/Rtbd9VQaWtw3ew9xcpf3u9fHPOspVU4C8WHdgqqsguWcvaBNwCU7W8FHAK5tpUT53+fkCXXSlFaynx9vlVVFK6P5slS3u7b0NDWKL0lz173aHLX331Fa+/sT2sxhwOB9//b98N65xwOHnyE06cPNmvcx0OBx9//In77X4w+OLLLwH42vVf67XcrRNu4dYJtwyaHS76G+TgykdLTgk9NH3EiBHcmXwH+/Y1cKz1WGREqWmDW2R8ZjLjF/LC7z9g+iOrWPl6lnP20bmNlSvroMDiNxuZxlPLXf+7jIN+U5ppi1aTZV2FbW8nD/SpSlmsrvWaFY1fyOKCVdRZbeztXOgUtTBsbtq8ijqyWH3veJ9yTz3Q14VJYPbStcz2O5r66FoKtQADm3ZMP/ou3j1z6rudJVBe6R4Ug0bV+Q3InsFTB20Jsb9BA05fF6TM9D47laJH3cZgsbRASqHPgJ/6aCEpy6uwWXaT4jM4+/rN+rS1fTdVto6A+kktYkm2UxS8aX65ihZSKPRuU+8lwmVNdqHn74TZZKfYnBGVKYVe9zKV7Ox4Wmwt7G+G1FSg2eIWSp97njCbkqLjlFpsVO1KGfYZU1ii9M8Lv8P+xgOcOtWOccwY5s+bG/LS3ahRo/jmvbP6ZWSoTJqUxJgxo0P2lSjg+PETXLp0iWuvHcukiUmDat+Y0aMBp6Bfzpw75wBgzJhAn5je8p0Llxh/Zu+KiB1NO6xAFtn36ojFtG9TgBWrrY7OBxbCXptzgF8U6jocvkts739Cn1Ole7PxN+XmO7OAOj74BBgfps3gc+6AcC3ZeL+Nt++moqKU0vh+viG7hMZ7RtJsobSiFFtKIWsf9Rr5UotYu85tDLvLSym16ItipIIG/Jcq3fW7AjQC6o/HuSLp9Ie5z+zFV6Rnq/OYvyg6cS2jego7o/bis7MDBFh/eTSeGX59cpXzb8+/reZ9LbrnA5A6gxRaaNnfQvuchGGdLYUlSqNHj2L50p/y3NoKOk+f5sTJkzy5+L8zYkR07FY0auRIkm7/ekhle3p6aPpbM5cuXcJoNJKRlsY11wxuP1y+l4+Onwgr38hx7hx2ux3TTTcNlmlhMW7cOADOnjkb1nndmhhfd+24CFjRSesxgCSSdAfsm7njXk/ZvbY6oCBIWRd+/puIE47NMC2nAKxWzV8UxDcVEu3sttjo8H8bD/qGrAU+9DoyabON+GyW+ImPczZQhaU5WLi3Z4blvfTnqtcZNJDd76CBhNQZxNtsdNgqKbUFztxcARo2rxlj/9C31bUEqusui7+NeO81UFdAiK2S0oEZ0weary/oLFgT5ME0IUTCDnS4IS6On5WW8Mxz62k80MQvf/0bfvqTxQNMjBxaepTiYNMhOk+fxmg0DkmQA8BdU1OBV6l/513+eeGCkK7Z2bNfUbZqNQ6Hg3/f+MuI2nONwdCvJbxbJ0wA4P0P/h7yOT09PRx+3+lT+/rtt4Xd5uDTyeuLXYKkkxg7HCZNW0bNM63MXVkHWCmcZiVo4ERv9LYc5veG7O838sYnKEJz7gdE6eERhZZ9rnUjPRJImRGPzeYngMGCBsLBLbYtOH0wpdgClhVDS97tlUjY6rImigINhpt+TQ1uiIujbPlS4uJi+duhZip++esB5bwMJZcuXaKx8eCQCxJAoukm7pqaSmfnabbveCukc6z/5w/YP/+crKx7Im6P4Zr+RU1OmHALN95wA6dPn+a99/aHdE5d/dt02e3cdNNNJJoiEewynqTbAVpp7dT7/BM+2Avcfjvj+ywLdNZh24szeq0phKCGQbdZO+OB33Cw6QA1z2RpR6wULt5GsG4MFNeST2C0d4hRdQNioAEOXqQWsXbdWtYWuYKKOrBVWGjGEwavG9EeAVt7rd8/VF67nvrh9ZFEi570Dv/3Ncxpb3z8sAc69Hu9avz4G93C1HL4AzZU/Bvnzg1Nvk9/uXjpEg2NB/msqwuj0cjMjLQhEyQXjxbmYzQaqf7jNvbsre+1bNWW/0td/Ttcf/11fPfBPr3bYXONof/Lld+aZwageusfOf2Zx0c0Zcoksr/tG3136tQpXvvjGwBkz/9Wv9v0Z1pOAVCHba/OEN30J6xAQc60vst6kXXnzbr1RIpwbPbGKU4WCvyPJ4XgB9VyjGjZT0Cqqv+MJ3UGKegktfrnL2nlvPOW3EV78al4laJlv3OZy72c5GpDx7/S26Dq9JUEIbWIteuWkO2lpAmpM/pM3O2TXmztrf4AW3u7NxEmdWYK0MH+Zh1Vcs36er1nQ8OAnCjjx9/I00+VEBcXy9+PfMiGyl8NKCFzMOnp6aGh8QD2zz/HaBwzbFsMjb/xBp584seMHj2KzS9Z+Pn6Smp2/YWPjp/g/PkLnGrvoP7tdylb9Qw1tbv52vXXs/SnP2Hs2LERt2UgvsBZ3/gGkyZO5Kvubioq/42mvx0CYMrkSeTmOIMclFLs29fAL375PBcuXCA5+U4yMtIiZT5MW0ZVAdSt/Bbrm7yOd25j8SNWKLB4Ity8yi5+3VsQnCHhjM8i+16oW/kSTf71RJIwbG5a9wQ+pnYeoxXIys7yxD3cfAdZgHWHd2VaIMHyCna3g/eODFUvew99ml+IFLLdS0epFBWlQEsVFe7dGzSflM8uD1q5DhtVXrs8uCPP4rPJTvXYYvEbcZtfrgzYYcIVNKDriMe1C0QHNovXbhFaWLs37bsq/NrTZgGu5cuE2WSn4NdHl12BturRq61e9XvX1b6rIsBWSGB2TgrQQlX5bl+Bb7ZQ+nIEpcq9g0elbx/bd1OhBawE3fJpCBnwhqwJ8eN5+qkS1vx8Pa3HPuLChQuMGTO0s49Q6OnpAeXMTZqZkT6sm7FOTUnmZ8uX8h+bf8cHfz/CB38/oltu+l1T+UFRAXFxsYNix8gRI4H+/bjfiBHXsOjxQl74902cOPkxmzb/jkSTiWnT7sJgMHDp0kUaGg9y+vRpACZNmsgPiiKfaD1t+QEO5mxguit5VMMnByig7LeYvtJdkiotL+mBFyx8MK1I8924PrOQFGGfUqg2T1v+P7BNS2O6Xxn/UPJnnrExd2UR0624k2cDSJhNybp4LMurKF3uddw/Sg6cs4siZ56M2/kerFyJluPi5aT3zv1xBTW4ou28CnmiAIGQAhy8AjMql9s89RThTmwFZ/7UbX7t+drkDI9f2+zXR3rZoNaHvm11h99bSnEHy2cvYW2RLTBXKbWIteuceUXufoH+NR8gnn577AJ885aGGYOK0K+7ff7FFwB87frrI1HdoHD+/HkUntDs4UYpReOBg7y7r4Gjrcfo6rJz64RbmDQxifu+mcVtt04YdBvOnP1qQJuynj9/nr/urWd/Q6N7Y1ZvkpJu55577uaeu++OmihNIQrRwstDE4Vh5nKy9TIkIr+nBNEtRi5GR4kYuXDtDZeRHsElrTAZOWrkgPbXGz16NOY5/4R5zj/R2dHJsePH6bLbuTHuBpIm3k5c7ODM8oQriQgGOAw6l5OtlycRmykJlydKKb4cpF3IBUEQwkXWU65yDAYDo0dFbMIsCIIwIESUhKjxsQmCIIgoCc7Z0uhRw22GIAiCiJLgxDh6NCMGee8/QRCEvpBRSHAzNiZm0DelFQRB6A0ZgQQ3BgNcG2O8LH9JWBCEKwMJCRcCUErxVbeDS1G6ZZQgCFcuIkpCULod5y6b3d8FQbgyEFESeuXixUt0nzuHPCaCIAwFIkpCSJw7f55zA9iOSBAEIRRElISQ6VGKc+fOy5KeIAiDhoiS0C8uXerhwsWLXOq5hFIKpZAlPkEQBoyIkiAIghA1SJ6SIAiCEDWIKAmCIAhRg4iSIAiCEDWM/PAfR4fbBkEQBEEAJNBBEARBiCJk+U4QBEGIGkSUBEEQhKhBREkQBEGIGkSUBEEQhKhBREkQBEGIGkSUBEEQhKhBREkQBEGIGkSUBEEQhKhBREkQBEGIGkSUBEEQhKhBREkQBEGIGkSUBEEQhKhBREkQBEGIGkSUBEEQhKhBREkQBEGIGkYGHLHXs/k/6rCTTN6yXJIGq+Vg7QxV+1cyH26n4rXDMD6LRY9lEjvU7QxV+9FOf6+D67w78yi5X74BwlWG8ueEVeWBgjWqLuDDCBKsnaFq/0qmfo0CFA9b1afD0c5QtR/t9Pc6uM5bLd8A4epDlu8EQRCEqEFESRAEQYgaRJQEQRCEqCFkUXLY7djtjtBrPhNm+X4Qtk2RtwC73Y79TBhlh9FcR8i2epUfTIMvhnP9hhCHfUjv1fA/x4IQPfQhSg4Ov7KUBVMMxMTFERcXQ+JdBWzcZ++9/F2JGK5zljckplCwoZa2ixGyuK2WjU8sYKLBY5PBMJEFT2ykvjOcihrZOH8uc+dvpFG3ne0sDfK5/dBWns1PIdEQQ1xcHHHXGTBMyWLFDp3r0llPxeNZTHSVjTEwMXcpWw4Flm389Vzmzp/L0jfa4Nh2lpoTMRgMGL63hbZwuuZrLfUbCkhJ1K7Xdc72tx7rrfwPyfK654YpC1j6ymGC3fVwadu1kSdzJ2IY5X39FvDkr+tDbuPwSwXMnT+XH1a1Bn54aDMPzZ/L3Me3EPCpo55n589l7kL/+2rn8GvPUnBXIoaYOPe9SryrgGdfO0ygZLSxfYnzfm3cB44DG3loisF5v56pD6EHdhpfetLnu2WYsoClb+j0RxCuJgJCH9zRb2XKuiVfmUzJKn9ZuSpfX6Lyp5qcUUHkqk1H/E/sVnWrM52fT85TJevLVfn6MrVojvMcU6FVHdVtJ/Tou649a1QmKEAl5RSrsvV+dpnylbU11BiPOrWmtyi/IHZ017tsSFJ5y8pV+fpyVb6yWOVONam8LX4xVq1WlW9CgUmZf1TmLLssTyWBgky1pr7b16LVzr7l/bZarZmFYnKmMs/LVEn9jd56+HllXZ2pmJyrildqdk5Gu1YlquZL/xOPKmuhdr/mLHJf3zztnMzVdapbt51Qo++6PM8ISSp3seua5KtkE/rPSS99NAWJbDv6W7PWRp6ynvD7sLFcpYMyPV3j6csFT79xP+/lqmxxrnavdPquPlXWh52frdlSrfJNKNNUszLPSVYmV9Rc0OtwVFU/lhTQXsn3k5UJkypZVizRd8JVSy+ihGLWGlXX5f3hUfcXMb2ywee0T/+Qr0yuQeWC9ydd6s1lzi/8oq1elYUrSieqtQE+U5W95WOUUqpbtfzW2T6zylWDCoX+iJJrIDKpkre6A07p6vI61t3gFBYy1Zo9fvYefl7lgiLN11aXKKWnpavM1XXKv5ch4xoM9e7Hl3WqLM35WfE27xa6VcNzme4B2KftCy3q+RwUpKvyRp12QhQl1zPCrDJV0+Fn85ctapMmDJmVodzBOrXGhIJi9aaPsdo9SktX6QF99AiW5/55+m0q3KRa/IW6o0aVzXLec9+6PKKUnpap8i06UhrsOmzJC/L9UqrrrTL3i5eIknA10osomVRZbeDA2/1Wic4XrUGVpwWbQSmljmxSZv9zwhSlhvXpzgFgfbAB66jalBPc7kD6I0oN2kBo1u+nF11bFzkHOu83cjfdqmaZ09Y19V4WaaLkL1Zh4xYl/fvhnkl4D3od1WoRKExlqkbn8rnuu8n7nLBEyfWM+AmbN0c2OcU6iA1+FmnXEN8XBO2+mX/zvCoDxTLv6+8SEi8hc/WbRaraXyi9+m4CRc4mr1mcR5R4rFr/BaJf16Fb1TxtElESrlp68SktYsEcY8BR45QM8vwPHqjFegB4sADzZJ2qJqeQCfBqa+Aaf0g0UrulETBT/GB6kDJJmB80A21sfvtwv1rpm2QyHzMBtaxY8iy1J4M5p+3U7dwMwKJcMzpXkaS78oA2GloDvUWm75kJ1suwCHI/kpIzA47Z62vZDPCjBZgDDXbf97a/tfbPv+V6RuYVk5cWpMxkM3nzgLbN1B/qq0IjGfcVA1B7yHO/7Y11bCWd3MwCshYDVfUe35G9gbpXgcfMZGnbK7j7vSyf3PFBWrovlwKAHbU06nQ+Pycr9N0aXNchrQCz7nUwkpH5UKi1CcIVRy+iFKN/OHBjIjjT5fziv1bARIPm7PX5l8WzAzLTQdcBgGQSgwwcADHjnEND28XBimQyYl5ipWyOibY3VjD31hgm5j7Jxl1tfo7wLuza4PXsfXrXw8DEoq1BW8m6PTEy5o4MchdHBh7tsn/q/J9nsnTtNSQVENziEHA9I5MTiQtaKIaYWIA2CCEwJva+XIqBxh0N2suOg4Y9G7UBP5aM+/KgrZq6A9oJh+rYCOTN84iIq9/piXE6Lw8axhjNZgcOHbtSbjX1bawLh8N5HTKTg26hFRsfofsvCJchehITNo5ubUhOy6csP6OXQSeZML6+3g1og74RY9CRY4gYb2ZN7WEKXtvImlXPs2XHRp7csZE1c8qw/mENZk00u7Uw59zF5Zh72b4sNmm4O6Th0OLecoopn9OLweOTgg/evVXvekbGGft1vi6xGWQ9DBtf3U79yUUkTWikvgpMT2Q5Z5p355LLD7HuaqQkLZ3G97YDZnLv9noKtX7HjRuaHfrsHZr4j4+7evcEFIReiIgoGa/TZChpAYuW5Ud+E1VjHHEmoK2R1pOA3hIh0K29xaaPC2fY66LbAeGNlLEkP1iG9cEyNh7YwpolJVTsepa5T2XQ9WIese43fkjPL6Hkm+HUPTy4ZpnMLKBkWeDy3kAxxsVhAtoOtPIpBHlGurUZUnqILx8mzA/mwatbqWu0k3+ylufbTDw5T7NfWw784Y4GWv81loYdjTBvk8+SZkysU6Bqj7TiILjgdgOQSOy4UOwKjnsWdKiVVjJ1r0Nba8PAGhGEy5jI7OhwZzrFAK/V0hhWrlCoJJNZCFDL1l3BvFKt1L6yFTDxUGYoHhkjxjQATej8cBxpoS6EWmLT8im3VDj9bC8dxundMJGs2bC9XjcLKuowJWuzizfq9PO2BsrUTKdfZudWaj8MUubDWqyvAaaHyArmd/LDdHcuZmDjngbq66tpMy0i031uEhk56bBzO/Vv17N9J6TnZPgIgSndjBmgajt1QZJ4HbvedPqdHs4iY6DTmwlJzmcl6HfFTt3OAS2UCsJlTWREKdZM3jITsJk1q7bqBzO0Haa139mXRsz55WQC21etYPP7gT6j1ldWsGIHkLOG/Fmh1JlM+jyAWjZa6n19QmfqqfjZszoO/TYO6yS9ujF5Jlzp9xeTCzQ+tYKKA3o+LjuH3w8xZODD7VRsqKDiVb0kzgiRlkdxDnBgKSs2NOq2Yz90uP9JvEYzBZWZwHZWrN7M4QABaGXL6hVsB3JX5xPyXG1yBrlpwM6tWOsbodBMltd0Jz3zIUxspfbFWraSTsEcvxeWyQ9RstgEbRWseK42MHnX/SyYKPlRXv+Wn72ZkEvBYwCbKV4SmNzb+koxxS8NtBFBuIwJiMfr66cjXJ/7hwGfqFaLtCRL09R8VfJitaqprVFvbnleSwr0S2QMO3m2WzX8KtcZmqslXm7a6l0/ismLVHXIybNKdb/nSoQ1qeTvl6hNW2tU9YvOZNHMwnxnGLuPHXVqjVb2+S1vav0rdycI5/7WO1elWzWsN3vZW66s22tUTW212uRKYvUL+XUnz/ol4bryWvxzboLS108mBPlphO73ypXZ5ElOLtf6WP1imSrOSQq8J+Emz3Y3qOfv18KdJ+eq4pWbVHXtm8r6K08CdNJj1aElz3rRUJnuzssKuEbdNarElfdjCvZMv6mKZ3k9u7+yqje97xMmZX6ul+TZer1Ke7kO7qRqLUn5xWpVs3WT8zk25SurpUxCwoWrlsiJklJKddSpcpdAeP+bnKkWrfdLyOzn7yl9WlvutbOE61+Syl28STX0I9v06LYS90Dsrmt1jepq1bPjqLLq9i9XlWxp0c1HatlS4tlFwf3PpJLvL1HWw0F2dPARJVc+jn+SaC/0U5SUUqr7sFWV5CT52YsyTdXpY39+T+nCp6pmvWcHB+9rWPxiQ/8Shl27O+heoy715mKtjWV6OWOuYi3Kusyzg4On3/lqzXY9mRyAKCntOs/xfY5Nc7RnQn5PSbiKMSilVAQnXk4c3ptZGomNjXyEmcNudy8xGcfFYhxIyMZFB/YzWm3GWPo0tx/987Y3pDbcNFKRnsHS9GotiGKIOGPH7g5/Hox76PDahHRwnpF+4f0sDIFdnuciiq6BIAwjgyNKQuQ4toWHkgqI29rFpgcliFgQhCsb+T2lKMf+tzq2kof5bhEkQRCufGSmJAiCIEQNMlMSBEEQotUwQmIAAAA0SURBVAYRJUEQBCFqEFESBEEQogYRJUEQBCFqEFESBEEQogYRJUEQBCFqEFESBEEQoob/D6AuErfL+QpBAAAAAElFTkSuQmCC" alt="image-20230915212005277"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/skills/JavaEE&amp;Spring/SpringIOC.html" class="prev">
        Spring IOC
      </a></span> <span class="next"><a href="/blog/skills/JavaEE&amp;Spring/设计模式.html">
        设计模式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e95f8842.js" defer></script><script src="/blog/assets/js/3.08356745.js" defer></script><script src="/blog/assets/js/9.66ed6f07.js" defer></script>
  </body>
</html>
