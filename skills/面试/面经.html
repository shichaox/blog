<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面经 | 琅玕的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="个人编程技术分享">
    
    <link rel="preload" href="/blog/assets/css/0.styles.671fbdd0.css" as="style"><link rel="preload" href="/blog/assets/js/app.e95f8842.js" as="script"><link rel="preload" href="/blog/assets/js/3.08356745.js" as="script"><link rel="preload" href="/blog/assets/js/6.31dc016b.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.acf34bf9.js"><link rel="prefetch" href="/blog/assets/js/11.fef1fa27.js"><link rel="prefetch" href="/blog/assets/js/12.c774ebf1.js"><link rel="prefetch" href="/blog/assets/js/13.bf6af2da.js"><link rel="prefetch" href="/blog/assets/js/14.7b60b543.js"><link rel="prefetch" href="/blog/assets/js/15.5515032c.js"><link rel="prefetch" href="/blog/assets/js/16.3c0cd04c.js"><link rel="prefetch" href="/blog/assets/js/17.80206c1e.js"><link rel="prefetch" href="/blog/assets/js/18.e5e2c85c.js"><link rel="prefetch" href="/blog/assets/js/19.2f69b079.js"><link rel="prefetch" href="/blog/assets/js/2.9988781b.js"><link rel="prefetch" href="/blog/assets/js/20.7a923a3b.js"><link rel="prefetch" href="/blog/assets/js/21.d81d0001.js"><link rel="prefetch" href="/blog/assets/js/22.2fe5ab39.js"><link rel="prefetch" href="/blog/assets/js/23.99bc8ff5.js"><link rel="prefetch" href="/blog/assets/js/24.1fcf63f7.js"><link rel="prefetch" href="/blog/assets/js/25.a5536fa6.js"><link rel="prefetch" href="/blog/assets/js/26.e2fb222c.js"><link rel="prefetch" href="/blog/assets/js/27.03389df0.js"><link rel="prefetch" href="/blog/assets/js/28.4b72525f.js"><link rel="prefetch" href="/blog/assets/js/29.03a090ad.js"><link rel="prefetch" href="/blog/assets/js/30.87f31b47.js"><link rel="prefetch" href="/blog/assets/js/31.c639ea6f.js"><link rel="prefetch" href="/blog/assets/js/32.795ca246.js"><link rel="prefetch" href="/blog/assets/js/33.647699a4.js"><link rel="prefetch" href="/blog/assets/js/34.2909ac9c.js"><link rel="prefetch" href="/blog/assets/js/35.b5d4b577.js"><link rel="prefetch" href="/blog/assets/js/36.474a6bcb.js"><link rel="prefetch" href="/blog/assets/js/37.4590b450.js"><link rel="prefetch" href="/blog/assets/js/38.1cfbe263.js"><link rel="prefetch" href="/blog/assets/js/39.4c159456.js"><link rel="prefetch" href="/blog/assets/js/4.1c4b8134.js"><link rel="prefetch" href="/blog/assets/js/40.c52cb9af.js"><link rel="prefetch" href="/blog/assets/js/41.f77d6a1f.js"><link rel="prefetch" href="/blog/assets/js/42.c45631ae.js"><link rel="prefetch" href="/blog/assets/js/43.44644811.js"><link rel="prefetch" href="/blog/assets/js/44.c40d24aa.js"><link rel="prefetch" href="/blog/assets/js/45.0c1b86d7.js"><link rel="prefetch" href="/blog/assets/js/46.85dd5346.js"><link rel="prefetch" href="/blog/assets/js/47.a52d8379.js"><link rel="prefetch" href="/blog/assets/js/48.dfaedde6.js"><link rel="prefetch" href="/blog/assets/js/49.604893e5.js"><link rel="prefetch" href="/blog/assets/js/5.b41d7dd5.js"><link rel="prefetch" href="/blog/assets/js/50.228c7e1a.js"><link rel="prefetch" href="/blog/assets/js/51.7a95ac4e.js"><link rel="prefetch" href="/blog/assets/js/52.79ff7d2e.js"><link rel="prefetch" href="/blog/assets/js/53.7aeffa50.js"><link rel="prefetch" href="/blog/assets/js/54.c7097067.js"><link rel="prefetch" href="/blog/assets/js/7.96c397d1.js"><link rel="prefetch" href="/blog/assets/js/8.e97d6841.js"><link rel="prefetch" href="/blog/assets/js/9.66ed6f07.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.671fbdd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">琅玕的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  学习
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  资源分享
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  学习
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  资源分享
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/skills/IoT" class="sidebar-heading clickable"><span>IoT</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/IoT/基于NodeMcu的智慧生态农业系统设计.html" class="sidebar-link">基于NodeMcu的智慧生态农业系统设计</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/JavaSE" class="sidebar-heading clickable"><span>JavaSE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/JavaSE/File类和IO流.html" class="sidebar-link">File类和IO流</a></li><li><a href="/blog/skills/JavaSE/Java基础手写笔记.html" class="sidebar-link">/skills/JavaSE/Java基础手写笔记.html</a></li><li><a href="/blog/skills/JavaSE/Java常用API.html" class="sidebar-link">Java常用API</a></li><li><a href="/blog/skills/JavaSE/Thread.html" class="sidebar-link">Thread</a></li><li><a href="/blog/skills/JavaSE/内部类.html" class="sidebar-link">内部类</a></li><li><a href="/blog/skills/JavaSE/反射.html" class="sidebar-link">反射</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/DSDB" class="sidebar-heading clickable"><span>DSDB</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/DSDB/Collection.html" class="sidebar-link">Java的集合类</a></li><li><a href="/blog/skills/DSDB/HTTP&amp;Tomcat.html" class="sidebar-link">HTTP&amp;Tomcat</a></li><li><a href="/blog/skills/DSDB/JDBC.html" class="sidebar-link">JDBC</a></li><li><a href="/blog/skills/DSDB/Map.html" class="sidebar-link">Map</a></li><li><a href="/blog/skills/DSDB/Maven.html" class="sidebar-link">Maven</a></li><li><a href="/blog/skills/DSDB/Mybatis.html" class="sidebar-link">Mybatis</a></li><li><a href="/blog/skills/DSDB/SQL.html" class="sidebar-link">SQL</a></li><li><a href="/blog/skills/DSDB/Stream.html" class="sidebar-link">Stream</a></li><li><a href="/blog/skills/DSDB/前端.html" class="sidebar-link">前端</a></li><li><a href="/blog/skills/DSDB/数据库索引.html" class="sidebar-link">数据库索引</a></li><li><a href="/blog/skills/DSDB/连接池.html" class="sidebar-link">/skills/DSDB/连接池.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/JavaEE&amp;Spring" class="sidebar-heading clickable"><span>JavaEE&amp;Spring</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/JavaEE&amp;Spring/MyBatis-Spring.html" class="sidebar-link">MyBatis - Spring、Spring事务</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/Request&amp;Response.html" class="sidebar-link">Request &amp; Response</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/Servlet.html" class="sidebar-link">Servlet</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringAOP.html" class="sidebar-link">Spring AOP</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringBoot.html" class="sidebar-link">SpringBoot</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringIOC.html" class="sidebar-link">Spring IOC</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html" class="sidebar-link">Spring MVC</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/设计模式.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/微服务" class="sidebar-heading clickable"><span>微服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/微服务/ElasticSearch.html" class="sidebar-link">ElasticSearch</a></li><li><a href="/blog/skills/微服务/Gateway.html" class="sidebar-link">Gateway</a></li><li><a href="/blog/skills/微服务/MapStruct.html" class="sidebar-link">MapStruct</a></li><li><a href="/blog/skills/微服务/Mybatis-Plus.html" class="sidebar-link">Mybatis-Plus</a></li><li><a href="/blog/skills/微服务/Nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/blog/skills/微服务/Redis.html" class="sidebar-link">Redis</a></li><li><a href="/blog/skills/微服务/Redis在Java项目中的使用.html" class="sidebar-link">Redis在Java项目中的使用</a></li><li><a href="/blog/skills/微服务/RocketMQ.html" class="sidebar-link">RocketMQ</a></li><li><a href="/blog/skills/微服务/SpringCloud.html" class="sidebar-link">SpringCloud</a></li><li><a href="/blog/skills/微服务/微服务.html" class="sidebar-link">微服务</a></li><li><a href="/blog/skills/微服务/微服务架构和单体架构.html" class="sidebar-link">微服务架构和单体架构</a></li><li><a href="/blog/skills/微服务/秒杀.html" class="sidebar-link">秒杀</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/面试" class="sidebar-heading clickable open"><span>面试</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/面试/面经.html" class="active sidebar-link">面经</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_1" class="sidebar-link">1.</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#自我介绍" class="sidebar-link">自我介绍</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#项目相关-购物车是怎么设计的-怎么防止重复提交" class="sidebar-link">项目相关: 购物车是怎么设计的? 怎么防止重复提交?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#项目分了哪几块了。" class="sidebar-link">项目分了哪几块了。</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#注册中心用的是什么" class="sidebar-link">注册中心用的是什么</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#消息中间件是拿来做缓存的是吗" class="sidebar-link">消息中间件是拿来做缓存的是吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#rocketmq是实现的顺序消费吗" class="sidebar-link">RocketMQ是实现的顺序消费吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#如果一个用户发送多条消息-想要实现该用户的顺序消费该怎么实现-消息中间件实现顺序消费应该怎么做" class="sidebar-link">如果一个用户发送多条消息，想要实现该用户的顺序消费该怎么实现?消息中间件实现顺序消费应该怎么做</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#对注册中心是怎么理解的-怎么使用注册中心" class="sidebar-link">对注册中心是怎么理解的? 怎么使用注册中心?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#typehandler是怎么使用的-作用是什么" class="sidebar-link">TypeHandler是怎么使用的，作用是什么</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#mybatis-是自己写xml文件吗还是使用注解-namespace是否可以重复-sqlid的标签用过吗-动态配有哪些标签-有一个场景-有一个查询8-会带各种条件-会用到动态匹配去看有什么输入。where条件写的时候-抛开if标签-所有条件有可能会全部查-有可能会带两个条件或者三个条件去查-如果一个条件都不带可能会全表查询-这种一般是怎么写的" class="sidebar-link">mybatis:是自己写Xml文件吗还是使用注解? namespace是否可以重复?SQLID的标签用过吗?动态配有哪些标签?有一个场景，有一个查询8.会带各种条件，会用到动态匹配去看有什么输入。where条件写的时候，抛开if标签，所有条件有可能会全部查，有可能会带两个条件或者三个条件去查，如果一个条件都不带可能会全表查询，这种一般是怎么写的</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#数据库中哪些情况会导致索引失效" class="sidebar-link">数据库中哪些情况会导致索引失效?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#如果输入的是integer-但是数据库中是varchar-会导致索引失效吗" class="sidebar-link">如果输入的是integer，但是数据库中是varchar，会导致索引失效吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#怎么看表的字段类型" class="sidebar-link">怎么看表的字段类型?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#新建表模型是怎么做的-表空间怎么自定义" class="sidebar-link">新建表模型是怎么做的? 表空间怎么自定义?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#项目线上有没有遇到问题-线上问题排查有无经验" class="sidebar-link">项目线上有没有遇到问题，线上问题排查有无经验</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#是否用过多线程" class="sidebar-link">是否用过多线程</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#springbootapplication注解干了些什么事情" class="sidebar-link">SpringBootApplication注解干了些什么事情</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#linux的命令。如果我要看这台机器有哪些java进程怎么看。管道命令-top命令。怎么看日志文件" class="sidebar-link">Linux的命令。如果我要看这台机器有哪些java进程怎么看。管道命令，top命令。怎么看日志文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_2" class="sidebar-link">2.</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#自我介绍-包括印象深刻的做了哪些项目-项目中遇到的问题-怎么解决的" class="sidebar-link">自我介绍 (包括印象深刻的做了哪些项目，项目中遇到的问题，怎么解决的)</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#根据自我介绍问了一些项目的问题-自己负责的模块整体流程和业务逻辑是什么样的-用户量大概是多少-怎么解决的高并发的问题。有没有遇到过异常-怎么解决的" class="sidebar-link">根据自我介绍问了一些项目的问题，自己负责的模块整体流程和业务逻辑是什么样的，用户量大概是多少，怎么解决的高并发的问题。有没有遇到过异常，怎么解决的</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#redis用的是集群还是单机部署的-是谁搭建的" class="sidebar-link">redis用的是集群还是单机部署的，是谁搭建的</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#数据库索引相关的一个选择题-考查的是最左前缀匹配原则。" class="sidebar-link">数据库索引相关的一个选择题，考查的是最左前缀匹配原则。</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#一个java手写题" class="sidebar-link">一个java手写题</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_3" class="sidebar-link">3.</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#自我介绍-项目介绍" class="sidebar-link">自我介绍，项目介绍</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#搭建-elasticsearch-使用多长时间" class="sidebar-link">搭建 ElasticSearch 使用多长时间?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#商品怎么同步到-elasticsearch-中-rocketmq-怎么保证上下架一致" class="sidebar-link">商品怎么同步到 ElasticSearch 中?RocketMQ 怎么保证上下架一致?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#创建-easticsearch-使用商品的哪些信息" class="sidebar-link">创建 EasticSearch 使用商品的哪些信息?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#订单的处理有做吗" class="sidebar-link">订单的处理有做吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#订单处理怎么处理-哪些活动有订单操作" class="sidebar-link">订单处理怎么处理?(哪些活动有订单操作)</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#介绍一下秒杀" class="sidebar-link">介绍一下秒杀?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#前端怎么知道下单成功" class="sidebar-link">前端怎么知道下单成功?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#rocketmq-怎么保证被准确消费" class="sidebar-link">RocketMQ 怎么保证被准确消费?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#rocketmq-怎么确定消费成功" class="sidebar-link">RocketMQ 怎么确定消费成功?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#项目环境是你搭建的还是谁搭建的" class="sidebar-link">项目环境是你搭建的还是谁搭建的?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#rocketmq-的选型-为什么用这个" class="sidebar-link">RocketMQ 的选型，为什么用这个?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#商品详情页是怎么样的设计-上下架-预热缓存-动态代理自定义注解等等-布隆过滤器" class="sidebar-link">商品详情页是怎么样的设计?(上下架，预热缓存，动态代理自定义注解等等)布隆过滤器?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#分布式事务-seata-解决分布式事务" class="sidebar-link">分布式事务，Seata 解决分布式事务?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#数据库锁-表锁-行锁" class="sidebar-link">数据库锁，表锁，行锁</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#对-redis-分布式锁的理解" class="sidebar-link">对 Redis 分布式锁的理解?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#项目中实际用到-redis-分布式锁的地方-怎么用" class="sidebar-link">项目中实际用到 Redis 分布式锁的地方?怎么用?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#nacos的使用" class="sidebar-link">Nacos的使用?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#数据库索引这块的理解-面式官说现在很少用数据和索引在一起的索引结构" class="sidebar-link">数据库索引这块的理解? (面式官说现在很少用数据和索引在一起的索引结构)</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#建索引怎么考虑" class="sidebar-link">建索引怎么考虑?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#前端项目有了解过吗" class="sidebar-link">前端项目有了解过吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#给一个原型能够设计出相应的接口吗" class="sidebar-link">给一个原型能够设计出相应的接口吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#redis的有计算过-redis-的开销吗" class="sidebar-link">redis的有计算过 redis 的开销吗?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#并发的了解-锁的理解" class="sidebar-link">并发的了解?锁的理解?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#linux的基本操作" class="sidebar-link">linux的基本操作?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#发布项目有参与过嘛" class="sidebar-link">发布项目有参与过嘛?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#数据库中哪个数据表的行数最多" class="sidebar-link">数据库中哪个数据表的行数最多</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_4" class="sidebar-link">4.</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#多线程juc包下的工具类有了解哪些-以及其应用场景" class="sidebar-link">多线程JUC包下的工具类有了解哪些，以及其应用场景?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#spring-里面哪些功能对应哪些设计模式的实现" class="sidebar-link">Spring 里面哪些功能对应哪些设计模式的实现?</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#spring事务怎么使用-事务注解使用过程中出现过什么问题-事务什么时候会失效-注解上面有些什么属性配置" class="sidebar-link">Spring事务怎么使用，事务注解使用过程中出现过什么问题，事务什么时候会失效，注解上面有些什么属性配置</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#spring注解的自动装配机制" class="sidebar-link">Spring注解的自动装配机制</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#数据库的索引" class="sidebar-link">数据库的索引</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#sql调优-执行计划" class="sidebar-link">sql调优，执行计划</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#redis集群的搭建" class="sidebar-link">redis集群的搭建</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#分布式锁的原理-以及使用-有没有多种方案去实现分布式锁" class="sidebar-link">分布式锁的原理，以及使用，有没有多种方案去实现分布式锁</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#redisson锁实现的原理" class="sidebar-link">redisson锁实现的原理</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#分布式事务的实现" class="sidebar-link">分布式事务的实现</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#jwt结构以及使用场景" class="sidebar-link">JWT结构以及使用场景</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#什么情况不能使用cookie" class="sidebar-link">什么情况不能使用cookie</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#管道设计模式的使用" class="sidebar-link">管道设计模式的使用</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#pipeline的运用" class="sidebar-link">Pipeline的运用</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#归并排序" class="sidebar-link">归并排序</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_6" class="sidebar-link">6.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_7" class="sidebar-link">7.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_8" class="sidebar-link">8.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_9" class="sidebar-link">9.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_10" class="sidebar-link">10.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_11" class="sidebar-link">11.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_12" class="sidebar-link">12.</a></li><li class="sidebar-sub-header"><a href="/blog/skills/面试/面经.html#_13" class="sidebar-link">13.</a></li></ul></li><li><a href="/blog/skills/面试/面试准备.html" class="sidebar-link">面试准备</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面经"><a href="#面经" class="header-anchor">#</a> 面经</h1> <h2 id="_1"><a href="#_1" class="header-anchor">#</a> 1.</h2> <p><img src="/blog/assets/img/image-20231108154656427.51f4e29c.png" alt="image-20231108154656427"></p> <p>思特奇面试</p> <h3 id="自我介绍"><a href="#自我介绍" class="header-anchor">#</a> 自我介绍</h3> <h3 id="项目相关-购物车是怎么设计的-怎么防止重复提交"><a href="#项目相关-购物车是怎么设计的-怎么防止重复提交" class="header-anchor">#</a> 项目相关: 购物车是怎么设计的? 怎么防止重复提交?</h3> <p>购物车的设计：购物车通常是一个用于存储用户选购商品信息的功能模块。它可以使用数据库或缓存等方式进行存储，并与用户的会话关联。购物车设计一般包括添加商品到购物车、修改商品数量、删除商品、计算总价等功能。购物车可以使用Cookie或Session等方式来保持用户的购物状态。</p> <p>防止重复提交的方法：</p> <ul><li>前端校验：在前端页面使用JavaScript对提交按钮进行禁用或显示加载状态，防止用户多次点击提交按钮。</li> <li>后端校验：在后端接收到请求时，可以通过生成唯一的表单令牌（Token）并将其存储在会话或隐藏表单字段中。后续的请求需要携带有效的令牌，用于校验请求的合法性。</li></ul> <h3 id="项目分了哪几块了。"><a href="#项目分了哪几块了。" class="header-anchor">#</a> 项目分了哪几块了。</h3> <p>根据功能划分为不同的模块或子系统，例如用户管理模块、订单管理模块、支付模块、商品管理模块等。</p> <h3 id="注册中心用的是什么"><a href="#注册中心用的是什么" class="header-anchor">#</a> 注册中心用的是什么</h3> <p>Nacos，介绍Nacos</p> <p>注册中心使用的是Nacos：Nacos是一个用于实现动态服务发现、配置管理和服务治理的开源项目。它可以作为注册中心使用，用于服务的注册与发现。通过Nacos，服务可以将自己的信息注册到注册中心，并且可以从注册中心查询到其他服务的信息，实现服务之间的通信和协作。</p> <h3 id="消息中间件是拿来做缓存的是吗"><a href="#消息中间件是拿来做缓存的是吗" class="header-anchor">#</a> 消息中间件是拿来做缓存的是吗?</h3> <p>介绍消息中间件</p> <p>消息中间件用于消息传递而不是缓存：消息中间件用于实现分布式系统中的异步通信和解耦。它提供了消息的可靠传递、消息的发布与订阅等功能。与缓存不同，消息中间件主要解决系统之间的消息通信和解耦问题，而不是用于数据的缓存。</p> <h3 id="rocketmq是实现的顺序消费吗"><a href="#rocketmq是实现的顺序消费吗" class="header-anchor">#</a> RocketMQ是实现的顺序消费吗?</h3> <p>RocketMQ实现的是顺序消费</p> <h3 id="如果一个用户发送多条消息-想要实现该用户的顺序消费该怎么实现-消息中间件实现顺序消费应该怎么做"><a href="#如果一个用户发送多条消息-想要实现该用户的顺序消费该怎么实现-消息中间件实现顺序消费应该怎么做" class="header-anchor">#</a> 如果一个用户发送多条消息，想要实现该用户的顺序消费该怎么实现?消息中间件实现顺序消费应该怎么做</h3> <h3 id="对注册中心是怎么理解的-怎么使用注册中心"><a href="#对注册中心是怎么理解的-怎么使用注册中心" class="header-anchor">#</a> 对注册中心是怎么理解的? 怎么使用注册中心?</h3> <h3 id="typehandler是怎么使用的-作用是什么"><a href="#typehandler是怎么使用的-作用是什么" class="header-anchor">#</a> TypeHandler是怎么使用的，作用是什么</h3> <p>举例：数据库中的字段为varchar类型，要转换成Java中的String数组类型。</p> <p>TypeHandler的使用和作用：TypeHandler是MyBatis框架中的一个功能组件，用于处理Java对象与数据库字段之间的类型转换。它负责将Java对象转换为数据库字段值存储到数据库，以及将数据库字段值转换为Java对象进行数据查询和映射。TypeHandler可以自定义实现，以满足不同类型的转换需求，例如将枚举类型映射为数据库字段。</p> <h3 id="mybatis-是自己写xml文件吗还是使用注解-namespace是否可以重复-sqlid的标签用过吗-动态配有哪些标签-有一个场景-有一个查询8-会带各种条件-会用到动态匹配去看有什么输入。where条件写的时候-抛开if标签-所有条件有可能会全部查-有可能会带两个条件或者三个条件去查-如果一个条件都不带可能会全表查询-这种一般是怎么写的"><a href="#mybatis-是自己写xml文件吗还是使用注解-namespace是否可以重复-sqlid的标签用过吗-动态配有哪些标签-有一个场景-有一个查询8-会带各种条件-会用到动态匹配去看有什么输入。where条件写的时候-抛开if标签-所有条件有可能会全部查-有可能会带两个条件或者三个条件去查-如果一个条件都不带可能会全表查询-这种一般是怎么写的" class="header-anchor">#</a> mybatis:是自己写Xml文件吗还是使用注解? namespace是否可以重复?SQLID的标签用过吗?动态配有哪些标签?有一个场景，有一个查询8.会带各种条件，会用到动态匹配去看有什么输入。where条件写的时候，抛开if标签，所有条件有可能会全部查，有可能会带两个条件或者三个条件去查，如果一个条件都不带可能会全表查询，这种一般是怎么写的</h3> <h3 id="数据库中哪些情况会导致索引失效"><a href="#数据库中哪些情况会导致索引失效" class="header-anchor">#</a> 数据库中哪些情况会导致索引失效?</h3> <ul><li>列表达式：如果索引列上使用了函数、表达式或类型转换，可能导致索引失效。</li> <li>索引列参与计算：如果查询条件中对索引列进行了计算，可能导致索引失效。</li> <li>数据类型不匹配：如果查询条件的数据类型与索引列的数据类型不匹配，可能导致索引失效。</li> <li>使用了不等于操作符：一些数据库对于不等于操作符（如<code>&lt;&gt;</code>）无法使用索引。</li> <li>数据量过小：如果表中的数据量非常小，使用索引可能不会带来性能提升，甚至会造成性能下降。</li></ul> <h3 id="如果输入的是integer-但是数据库中是varchar-会导致索引失效吗"><a href="#如果输入的是integer-但是数据库中是varchar-会导致索引失效吗" class="header-anchor">#</a> 如果输入的是integer，但是数据库中是varchar，会导致索引失效吗?</h3> <p>输入的类型不匹配可能导致索引失效：如果输入的数据类型与索引列的数据类型不匹配，数据库可能无法正确使用索引进行查询，导致索引失效。</p> <h3 id="怎么看表的字段类型"><a href="#怎么看表的字段类型" class="header-anchor">#</a> 怎么看表的字段类型?</h3> <ol><li>使用SQL查询：可以使用SQL语句查询表的结构信息，包括字段名和字段类型。</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> table_name<span class="token punctuation">;</span>
</code></pre></div><p>将&quot;table_name&quot;替换为要查看的表名，执行该SQL语句即可查看表的字段类型。</p> <ol start="2"><li><p>使用数据库管理工具：常见的数据库管理工具（如MySQL Workbench、Navicat等）提供了可视化界面来查看表的结构信息。通过连接到数据库并导航到相应的表，可以查看每个字段的名称、数据类型和其他属性。</p></li> <li><p>使用数据库元数据查询：通过数据库的元数据（metadata）可以获取表的结构信息。具体的方法取决于使用的数据库系统。</p></li></ol> <h3 id="新建表模型是怎么做的-表空间怎么自定义"><a href="#新建表模型是怎么做的-表空间怎么自定义" class="header-anchor">#</a> 新建表模型是怎么做的? 表空间怎么自定义?</h3> <h3 id="项目线上有没有遇到问题-线上问题排查有无经验"><a href="#项目线上有没有遇到问题-线上问题排查有无经验" class="header-anchor">#</a> 项目线上有没有遇到问题，线上问题排查有无经验</h3> <h3 id="是否用过多线程"><a href="#是否用过多线程" class="header-anchor">#</a> 是否用过多线程</h3> <h3 id="springbootapplication注解干了些什么事情"><a href="#springbootapplication注解干了些什么事情" class="header-anchor">#</a> SpringBootApplication注解干了些什么事情</h3> <ol><li><code>@SpringBootApplication</code> 注解是 Spring Boot 框架中的核心注解之一，它结合了以下三个注解的功能：</li></ol> <ul><li><code>@Configuration</code>：标识该类是一个配置类，用于定义和配置 Bean。</li> <li><code>@EnableAutoConfiguration</code>：启用自动配置，让 Spring Boot 根据项目的依赖配置自动进行配置。</li> <li><code>@ComponentScan</code>：开启组件扫描，自动扫描并加载符合条件的组件（包括注解标记的类和 Bean）。</li></ul> <p><code>@SpringBootApplication</code> 注解的作用是将一个标准的 Java 类标记为 Spring Boot 应用程序的入口点。当应用程序启动时，Spring Boot 将扫描该类所在的包及其子包，自动配置 Spring 应用程序上下文和其他必要的组件，以便运行 Spring Boot 应用程序。</p> <h3 id="linux的命令。如果我要看这台机器有哪些java进程怎么看。管道命令-top命令。怎么看日志文件"><a href="#linux的命令。如果我要看这台机器有哪些java进程怎么看。管道命令-top命令。怎么看日志文件" class="header-anchor">#</a> Linux的命令。如果我要看这台机器有哪些java进程怎么看。管道命令，top命令。怎么看日志文件</h3> <ol><li>在 Linux 上查看 Java 进程可以使用 <code>ps</code> 命令配合 <code>grep</code> 命令。具体命令如下：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">java</span>
</code></pre></div><p>该命令会列出所有正在运行的进程，并通过管道将结果传递给 <code>grep</code> 命令进行过滤，只显示包含 &quot;java&quot; 关键字的进程。</p> <ol start="2"><li>要查看日志文件，可以使用 <code>cat</code> 命令或 <code>tail</code> 命令。以下是两个常用的示例：</li></ol> <ul><li>使用 <code>cat</code> 命令查看完整的日志文件内容：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> /path/to/logfile.log
</code></pre></div><p>将 &quot;/path/to/logfile.log&quot; 替换为实际的日志文件路径。</p> <ul><li>使用 <code>tail</code> 命令查看最后几行的日志内容（常用于实时查看日志）：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>tail -n 100 /path/to/logfile.log
</code></pre></div><p>将 &quot;/path/to/logfile.log&quot; 替换为实际的日志文件路径，并将 &quot;-n 100&quot; 替换为要显示的行数。</p> <p><code>tail</code> 命令还支持 <code>-f</code> 参数，可以实时监视日志文件的新增内容。例如：</p> <div class="language- extra-class"><pre class="language-text"><code>tail -f /path/to/logfile.log
</code></pre></div><p>上述命令将持续输出新添加到日志文件中的内容，以便实时查看日志。要停止查看日志，可以使用 Ctrl+C 组合键终止 <code>tail</code> 命令的执行。</p> <h2 id="_2"><a href="#_2" class="header-anchor">#</a> 2.</h2> <p><img src="/blog/assets/img/image-20231108154717126.3933966d.png" alt="image-20231108154717126"></p> <h3 id="自我介绍-包括印象深刻的做了哪些项目-项目中遇到的问题-怎么解决的"><a href="#自我介绍-包括印象深刻的做了哪些项目-项目中遇到的问题-怎么解决的" class="header-anchor">#</a> 自我介绍 (包括印象深刻的做了哪些项目，项目中遇到的问题，怎么解决的)</h3> <h3 id="根据自我介绍问了一些项目的问题-自己负责的模块整体流程和业务逻辑是什么样的-用户量大概是多少-怎么解决的高并发的问题。有没有遇到过异常-怎么解决的"><a href="#根据自我介绍问了一些项目的问题-自己负责的模块整体流程和业务逻辑是什么样的-用户量大概是多少-怎么解决的高并发的问题。有没有遇到过异常-怎么解决的" class="header-anchor">#</a> 根据自我介绍问了一些项目的问题，自己负责的模块整体流程和业务逻辑是什么样的，用户量大概是多少，怎么解决的高并发的问题。有没有遇到过异常，怎么解决的</h3> <h3 id="redis用的是集群还是单机部署的-是谁搭建的"><a href="#redis用的是集群还是单机部署的-是谁搭建的" class="header-anchor">#</a> redis用的是集群还是单机部署的，是谁搭建的</h3> <h3 id="数据库索引相关的一个选择题-考查的是最左前缀匹配原则。"><a href="#数据库索引相关的一个选择题-考查的是最左前缀匹配原则。" class="header-anchor">#</a> 数据库索引相关的一个选择题，考查的是最左前缀匹配原则。</h3> <p>题目忘了截了，根据我的记忆大致是这样子的:
有一张表tb_name有四个字段A int,B int,c int,D nt;建立了复合索引(A,B,C)下面哪些情况用到的索引:</p> <div class="language- extra-class"><pre class="language-text"><code>A. select * from tb_name where 1=1 AND A=1 AND B=2:
A. select * from tb_name where A=1 AND B=2;
c. select * from tb_name where A=1 AND C=2;
D. select * from tb_name where C=1 AND B=2:
</code></pre></div><h3 id="一个java手写题"><a href="#一个java手写题" class="header-anchor">#</a> 一个java手写题</h3> <p>自定义学生列表
1，对学生列表根据年龄降序排序
2。对学生按照性别分组
对容器有无了解
异常类型 (运行时异常和编译时异常)，区别。try.....catch....finally和try....catch.....区别6</p> <h2 id="_3"><a href="#_3" class="header-anchor">#</a> 3.</h2> <p><img src="/blog/assets/img/image-20231108193409315.b858015a.png" alt="image-20231108193409315"></p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSale</span><span class="token punctuation">(</span><span class="token class-name">Long</span> skuId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//这种方法写复杂了，可以直接使用Mybatis-plus提供的updateById方法</span>
        <span class="token class-name">LambdaUpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SkuInfo</span><span class="token punctuation">&gt;</span></span> updateWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaUpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        updateWrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">SkuInfo</span><span class="token operator">::</span><span class="token function">getId</span><span class="token punctuation">,</span> skuId<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">SkuInfo</span><span class="token operator">::</span><span class="token function">getIsSale</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        skuInfoMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> updateWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//添加到布隆过滤器</span>
        <span class="token class-name">RBloomFilter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> bloomFilter <span class="token operator">=</span> redissonClient<span class="token punctuation">.</span><span class="token function">getBloomFilter</span><span class="token punctuation">(</span><span class="token class-name">RedisConst</span><span class="token punctuation">.</span><span class="token constant">SKU_BLOOM_FILTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bloomFilter<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>skuId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将该商品信息添加到ElasticSearch中</span>
<span class="token comment">//        searchApiClient.upperGoods(skuId);</span>
        baseProducer<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">MqTopicConst</span><span class="token punctuation">.</span><span class="token constant">PRODUCT_ONSALE_TOPIC</span><span class="token punctuation">,</span> skuId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="自我介绍-项目介绍"><a href="#自我介绍-项目介绍" class="header-anchor">#</a> 自我介绍，项目介绍</h3> <h3 id="搭建-elasticsearch-使用多长时间"><a href="#搭建-elasticsearch-使用多长时间" class="header-anchor">#</a> 搭建 ElasticSearch 使用多长时间?</h3> <h3 id="商品怎么同步到-elasticsearch-中-rocketmq-怎么保证上下架一致"><a href="#商品怎么同步到-elasticsearch-中-rocketmq-怎么保证上下架一致" class="header-anchor">#</a> 商品怎么同步到 ElasticSearch 中?RocketMQ 怎么保证上下架一致?</h3> <p>① 在上下架接口中发送上下架消息，定义好的上下架消费者中的消息监听器在收到消息后调用Service层的针对ES的上下架服务。</p> <p>②上架服务</p> <p>从数据库获取商品数据，使用Spring Date ES提供的增删改查接口保存商品信息。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">upperGoods</span><span class="token punctuation">(</span><span class="token class-name">Long</span> skuId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//a. 创建一个document对应的类型对象，然后查询其相应的属性对应的参数值，</span>
        <span class="token comment">// 然后给这些属性赋值(查询属性使用Product对外提供的API接口)。</span>
        <span class="token class-name">Goods</span> goods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 属性主要有商品的基本信息、类目信息、品牌信息、平台属性</span>
        <span class="token comment">// 基本信息</span>

        <span class="token comment">//获取价格</span>

        <span class="token comment">// 类目信息</span>

        <span class="token comment">// 品牌信息</span>
       
        <span class="token comment">// 平台属性</span>

        <span class="token comment">//b. 调用Repository的save方法将商品信息添加到ES。</span>
        goodsRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>goods<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre></div><p>③ 下架服务</p> <p>使用Spring Date ES提供的deleteById方法从ES中删除指定商品。</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">lowerGoods</span><span class="token punctuation">(</span><span class="token class-name">Long</span> skuId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 调用Repository的deleteById方法删除。</span>
        goodsRepository<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>skuId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><strong>Spring Date ElasticSearch</strong>(它和ES的关系相当于Mybatis-Plus和MySQL的关系)</p> <p>类比于<strong>Mybatis-Plus</strong>中定义<strong>BaseMapper子接口</strong>即可实现对单表做<strong>增删改查</strong>的操作，<strong>Spring Date Elasticsearch</strong>通过<strong>ElasticSearchRepository子接口</strong>，实现对索引中的文档数据进行<strong>增删改查</strong>，以及通过自定义的方法，实现自定义查询。</p> <p>类比于MyBatis-Plus可以定义<strong>实体类</strong>去映射<strong>数据库中的表中的数据</strong>，使用Spring Date ElasticSearch也可以定义一个<strong>实体类</strong>映射<strong>ES中的文档</strong>。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">GoodsRepository</span> <span class="token keyword">extends</span> <span class="token class-name">ElasticsearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Goods</span><span class="token punctuation">,</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="创建-easticsearch-使用商品的哪些信息"><a href="#创建-easticsearch-使用商品的哪些信息" class="header-anchor">#</a> 创建 EasticSearch 使用商品的哪些信息?</h3> <h3 id="订单的处理有做吗"><a href="#订单的处理有做吗" class="header-anchor">#</a> 订单的处理有做吗?</h3> <h3 id="订单处理怎么处理-哪些活动有订单操作"><a href="#订单处理怎么处理-哪些活动有订单操作" class="header-anchor">#</a> 订单处理怎么处理?(哪些活动有订单操作)</h3> <h3 id="介绍一下秒杀"><a href="#介绍一下秒杀" class="header-anchor">#</a> 介绍一下秒杀?</h3> <p><strong>缓存预热</strong></p> <p>使用Spring定时任务每天凌晨两点将当天的秒杀活动商品数据加载到Redis中。</p> <blockquote><p>缓存预热就是系统启动前，提前将相关数据直接加载到缓存系统。避免在用户请求的时候，先查询数据库，然后再将数据缓存。</p></blockquote> <p>如果不考虑缓存，那么每次都需要访问直接数据库。而秒杀列表页和秒杀商品详情页的点击量一般会比较大，那势必会给数据库带来很大的压力，所以在此考虑使用缓存预热的方案。</p> <p><strong>使用状态位控制访问请求</strong></p> <p>我们在内存中保持一个状态位，当抢购开始时状态为1，可以抢购，当库存为0时状态位为0，不能抢购。状态位的好处是它是在内存中判断，压力比较小，可以阻止很多不必要的请求。</p> <p><strong>秒杀排队实现方式</strong></p> <p>用户提交秒杀请求，将秒杀商品与用户id关联发送给消息队列，然后返回。通过消息队列排队抢购秒杀资格。秒杀页面通过轮询接口查看是否秒杀成功。</p> <p>我们秒杀只是为了获取一个秒杀资格，获取秒杀资格后就可以到下单页面下订单，后续业务和正常订单一样。</p> <p><strong>库存超卖问题</strong></p> <p>使用Redis队列存储商品库存，利用Redis队列的原子性，保证库存不超卖。</p> <p>使用Redis+RocketMQ完成</p> <p>秒杀商品数据使用缓存预热，使用Spring定时任务每天凌晨两点将当天的秒杀活动商品数据加载到Redis中</p> <p><strong>缓存预热</strong></p> <p>在凌晨将当天的所有秒杀商品从数据库中放入redis缓存</p> <p>① 从数据库中查询状态为审核通过、开始时间在当天、库存大于的商品。</p> <p>② 在redis中使用一个hash存储当天的商品，遍历当天的每个商品，将他们放入redis的hash中。hash的field为商品id，value为商品信息。</p> <p>③ 使用一个队列表示每个商品的库存，添加一个元素(商品id)代表新增一个库存，移除一个元素就代表减少一个库存。</p> <p>④ 初始化库存标志位为&quot;1&quot;，表示有库存。</p> <table><thead><tr><th></th> <th></th> <th></th></tr></thead> <tbody><tr><td>缓存预热</td> <td>使用Spring定时任务每天凌晨两点将当天的秒杀活动商品数据加载到Redis中。</td> <td></td></tr> <tr><td>秒杀商品列表</td> <td>返回所有的秒杀商品</td> <td></td></tr> <tr><td>秒杀商品详情</td> <td>返回指定的秒杀商品</td> <td></td></tr> <tr><td>秒杀下单排队</td> <td>获取下单码、秒杀下单排队</td> <td><strong>下单码</strong>主要目的是秒杀下单的时候校验用户请求，防止非法请求参与秒杀。</td></tr> <tr><td>秒杀下单消费</td> <td>1. 判断状态位(看是否有库存)。2.标记用户下单(使用redis.setnx(userId))。3.获取库存队列。4.弹出库存。5.生成订单记录，存入Redis。</td> <td></td></tr> <tr><td>检查秒杀下单结果</td> <td>1.  判断用户是否已经下过单。 2. 判断Redis中是否已经存在用户的订单，如果存在，说明抢单成功，返回秒杀成功状态码。3. 如果不满足1和2中的条件，就执行后面的。4. 判断库存标志位，看是否有库存，没有库存据返回已售罄标志位。5. 以上都不满足，就返回正在排队中。</td> <td></td></tr> <tr><td>秒杀下单商品确认页</td> <td>当抢购成功之后，前端页面显示抢购成功，去下单。和订单服务的下单商品确认页逻辑类似。1. 从Redis中获取下单记录OrderRecord，然后获取秒杀详情SeckillGoods。 2. 获取用户地址 3. 构建OrderTradeDTO(下单确认页信息)</td> <td></td></tr> <tr><td>秒杀下单生成(提交)订单</td> <td>1. 获取用户id。 2. 判断是否已经提交过订单，如果已经提交过订单，就返回相应的失败状态码。3. 远程调用订单服务，生成秒杀订单。4. 删除Redis中的下单信息。5. 在Redis中增加秒杀提交标记，表示用户已经提交了订单。</td> <td></td></tr> <tr><td>定时任务清除缓存</td> <td>每天在固定时间清除当天的秒杀数据</td> <td></td></tr></tbody></table> <h3 id="前端怎么知道下单成功"><a href="#前端怎么知道下单成功" class="header-anchor">#</a> 前端怎么知道下单成功?</h3> <p>检查秒杀下单结果的接口判断下单状态后返回给前端一个状态码。前端根据下单结果状态码判断下单是否成功。</p> <p>例如：</p> <table><thead><tr><th>状态码</th> <th>状态</th></tr></thead> <tbody><tr><td>211</td> <td>排队中</td></tr> <tr><td>215</td> <td>抢购成功，去下单</td></tr> <tr><td>218</td> <td>下单成功，已经生成订单</td></tr> <tr><td>其他</td> <td>抢购失败</td></tr></tbody></table> <p>前端通过轮询访问下单结果检查的接口刷新抢购状态。</p> <h3 id="rocketmq-怎么保证被准确消费"><a href="#rocketmq-怎么保证被准确消费" class="header-anchor">#</a> RocketMQ 怎么保证被准确消费?</h3> <p>标记用户下单(使用redis.setnx(userId))，避免重复消费。</p> <h3 id="rocketmq-怎么确定消费成功"><a href="#rocketmq-怎么确定消费成功" class="header-anchor">#</a> RocketMQ 怎么确定消费成功?</h3> <p>在消费者消息监听器中，消息消费成功后，返回一个消费成功的状态码(<code>ConsumeConcurrentlyStatus.CONSUME_SUCCESS</code>)。</p> <p>如果出现异常，就返回消息重试状态码。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 设置消息监听器</span>
consumer<span class="token punctuation">.</span><span class="token function">setMessageListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MessageListenerConcurrently</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ConsumeConcurrentlyStatus</span> <span class="token function">consumeMessage</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MessageExt</span><span class="token punctuation">&gt;</span></span> msgs<span class="token punctuation">,</span> <span class="token class-name">ConsumeConcurrentlyContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 1. 获取消息</span>
        <span class="token class-name">MessageExt</span> message <span class="token operator">=</span> msgs<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> startTimeStr <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">getUserProperty</span><span class="token punctuation">(</span><span class="token string">&quot;startTimeStr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;time span: &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endTime <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>startTimeStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/// 2. 获取消息体数据</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. 消费</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> body<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getMsgId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">ConsumeConcurrentlyStatus</span><span class="token punctuation">.</span><span class="token constant">RECONSUME_LATER</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token class-name">ConsumeConcurrentlyStatus</span><span class="token punctuation">.</span><span class="token constant">CONSUME_SUCCESS</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="项目环境是你搭建的还是谁搭建的"><a href="#项目环境是你搭建的还是谁搭建的" class="header-anchor">#</a> 项目环境是你搭建的还是谁搭建的?</h3> <h3 id="rocketmq-的选型-为什么用这个"><a href="#rocketmq-的选型-为什么用这个" class="header-anchor">#</a> RocketMQ 的选型，为什么用这个?</h3> <table><thead><tr><th>消息中间件</th> <th>优点</th> <th>不足</th></tr></thead> <tbody><tr><td>RocketMQ</td> <td>经历过世界上绝无仅有的高并发的实战的考验(双十一)</td> <td>社区不够活跃</td></tr> <tr><td>ActiveMQ</td> <td>主要使用场景就是解耦和异步调用。</td> <td>没经过大规模吞吐量场景的验证，开源社区不活跃</td></tr> <tr><td>RabbitMQ</td> <td>使用erlang开发，队列基于内存，高并发低延迟。</td> <td>开发语言小众，不利于自己基于源码开发扩展，遇到bug调试起来比较麻烦</td></tr> <tr><td>Kafka</td> <td>可以实时的处理大量的数据，比如基于hadoop的批处理系统</td> <td>消费失败不支持重试，支持消息顺序，但是一台代理宕机后就会产生消息乱序</td></tr></tbody></table> <h3 id="商品详情页是怎么样的设计-上下架-预热缓存-动态代理自定义注解等等-布隆过滤器"><a href="#商品详情页是怎么样的设计-上下架-预热缓存-动态代理自定义注解等等-布隆过滤器" class="header-anchor">#</a> 商品详情页是怎么样的设计?(上下架，预热缓存，动态代理自定义注解等等)布隆过滤器?</h3> <h3 id="分布式事务-seata-解决分布式事务"><a href="#分布式事务-seata-解决分布式事务" class="header-anchor">#</a> 分布式事务，Seata 解决分布式事务?</h3> <h3 id="数据库锁-表锁-行锁"><a href="#数据库锁-表锁-行锁" class="header-anchor">#</a> 数据库锁，表锁，行锁</h3> <p><strong>数据库锁</strong>是用于控制并发访问数据库的机制，可以分为<strong>表锁</strong>和<strong>行锁</strong>两种类型。</p> <p><strong>表锁</strong>是对整个表进行加锁，当一个事务获取表锁后，其他事务无法修改该表的任何数据。</p> <p><strong>行锁</strong>是对表中一行的数据进行加锁，当一个事务获取行锁后，其他事务可以修改表中其他行的数据，但不能修改被锁定的行。</p> <h3 id="对-redis-分布式锁的理解"><a href="#对-redis-分布式锁的理解" class="header-anchor">#</a> 对 Redis 分布式锁的理解?</h3> <p><strong>本地锁的局限性：</strong></p> <p>本地锁只能锁住当前服务，只在当前服务内有效，不能保证多个服务对同一个资源的互斥访问。</p> <p><strong>分布式锁的概念：</strong></p> <p>在分布式系统中，用于控制多个服务间的共享资源访问的锁。</p> <p><strong>Redis分布式锁的实现：</strong></p> <p><strong>使用Lua脚本</strong>来保证加锁操作的原子性。因为Redis的工作线程是<strong>单线程</strong>，而Lua脚本可以直接在Redis中运行，所以一段Lua脚本中运行的必然是一个原子操作。Redisson的底层就是利用Lua脚本来加锁和释放锁的。</p> <p><strong>基于setnx实现分布式锁：</strong></p> <p>在Redis中定义一个string类型的值，把key的值作为锁的名字，Redis的string类型的setnx方法只有当键值对不存在的时候才可以被创建，如果当前设置的键值对已经存在，就会创建失败。也就是说使用setnx方法，一个键值对只能被创建一次。</p> <p>我们可以使用setnx是否成功作为标记来表示是否加锁成功</p> <p>(1) 如果使用setnx加锁成功，就说明还没有线程占用共享资源，我就加了一个标记，表示我已经占用了。</p> <p>(2) 如果使用setnx加锁失败，就说明已经有线程占用了共享资源。</p> <p>举例：上厕所。</p> <p>我们去上厕所就相当于占用共享资源，当我们占用厕所时，会把门关上，门外面会有标志显示&quot;有人&quot;，关锁就相当于使用setnx，这个过程就相当于我们使用setnx做了一个标记，当有第二个人想来使用这个厕所时，看到门锁标志为&quot;有人&quot;，就会等待。</p> <h3 id="项目中实际用到-redis-分布式锁的地方-怎么用"><a href="#项目中实际用到-redis-分布式锁的地方-怎么用" class="header-anchor">#</a> 项目中实际用到 Redis 分布式锁的地方?怎么用?</h3> <p>在我的项目中，使用分布式锁解决缓存击穿问题。</p> <p><strong>缓存击穿</strong>：指当缓存中某个key过期了，在该热点数据重新载入缓存之前，有大量的查询请求穿过缓存，直接查询数据库。这样就会导致数据库压力瞬时剧增，造成大量请求阻塞，甚至直接挂掉。</p> <p>解决方法：使用Redis提供的分布式锁，保证同一时刻只能有一个查询请求加载热点数据到缓存中，这样，其他的线程只需要等待该线程运行完毕，即可重新从redis中获取数据。</p> <h3 id="nacos的使用"><a href="#nacos的使用" class="header-anchor">#</a> Nacos的使用?</h3> <p>① 介绍Nacos</p> <p>② 使用</p> <h3 id="数据库索引这块的理解-面式官说现在很少用数据和索引在一起的索引结构"><a href="#数据库索引这块的理解-面式官说现在很少用数据和索引在一起的索引结构" class="header-anchor">#</a> 数据库索引这块的理解? (面式官说现在很少用数据和索引在一起的索引结构)</h3> <h3 id="建索引怎么考虑"><a href="#建索引怎么考虑" class="header-anchor">#</a> 建索引怎么考虑?</h3> <ul><li>查询的频率：针对经常被查询的字段，可以提高查询的性能。</li> <li>数据的唯一性：</li> <li>数据量和字段长度：数据量大或字段长的表，建立索引可能会增加存储空间和维护成本，需要综合考虑。</li> <li>更新频率：</li></ul> <h3 id="前端项目有了解过吗"><a href="#前端项目有了解过吗" class="header-anchor">#</a> 前端项目有了解过吗?</h3> <h3 id="给一个原型能够设计出相应的接口吗"><a href="#给一个原型能够设计出相应的接口吗" class="header-anchor">#</a> 给一个原型能够设计出相应的接口吗?</h3> <h3 id="redis的有计算过-redis-的开销吗"><a href="#redis的有计算过-redis-的开销吗" class="header-anchor">#</a> redis的有计算过 redis 的开销吗?</h3> <h3 id="并发的了解-锁的理解"><a href="#并发的了解-锁的理解" class="header-anchor">#</a> 并发的了解?锁的理解?</h3> <h3 id="linux的基本操作"><a href="#linux的基本操作" class="header-anchor">#</a> linux的基本操作?</h3> <table><thead><tr><th>命令</th> <th>操作</th></tr></thead> <tbody><tr><td>mkdir dir</td> <td>创建目录</td></tr> <tr><td>rmdir dir 删除空目录 rm -rf</td> <td>删除目录</td></tr> <tr><td>rm -f:强制删除 -r:递归删除 -i:互动模式</td> <td>移除文件或目录</td></tr> <tr><td>cp source destination</td> <td>复制文件或目录</td></tr> <tr><td>mv source destination</td> <td>移动文件与目录，或修改文件与目录的名字</td></tr> <tr><td>chmod 777 filename</td> <td>修改目录、文件访问权限</td></tr></tbody></table> <p>chmod 777 filename解释</p> <p>777：对应三组三位二进制数，</p> <p>这三组分别对应文件所有者、文件所有者同组其他用户、文件其他组用户对该文件所具有的权限。而每一组的权限由三位二进制数表示，分别表示读、写、执行权限，对应位为1就说明有该权限。然后每组的权限有一位十进制数表示。</p> <h3 id="发布项目有参与过嘛"><a href="#发布项目有参与过嘛" class="header-anchor">#</a> 发布项目有参与过嘛?</h3> <h3 id="数据库中哪个数据表的行数最多"><a href="#数据库中哪个数据表的行数最多" class="header-anchor">#</a> 数据库中哪个数据表的行数最多</h3> <h2 id="_4"><a href="#_4" class="header-anchor">#</a> 4.</h2> <p><img src="/blog/assets/img/image-20231109193547119.109f87d0.png" alt="image-20231109193547119"></p> <h3 id="多线程juc包下的工具类有了解哪些-以及其应用场景"><a href="#多线程juc包下的工具类有了解哪些-以及其应用场景" class="header-anchor">#</a> 多线程JUC包下的工具类有了解哪些，以及其应用场景?</h3> <p>多线程 JUC 包下的工具类有：</p> <ul><li><code>CountDownLatch</code>：用于等待一个或多个线程完成一组操作，常用于主线程等待其他线程执行完毕再继续执行。</li> <li><code>CyclicBarrier</code>：用于让一组线程相互等待，直到所有线程都达到某个屏障点，然后继续执行。</li> <li><code>Semaphore</code>：用于控制同时访问某个资源的线程数量。</li> <li><code>Exchanger</code>：用于两个线程之间交换数据。</li> <li><code>Lock</code> 接口及其实现类：用于替代 synchronized 关键字，提供更灵活的锁定机制。</li> <li><code>Condition</code> 接口：用于实现线程间的等待/通知机制，可以在不同的条件下唤醒等待的线程。</li></ul> <p>这些工具类在多线程编程中提供了不同的同步和并发控制机制，适用于不同的场景和需求。</p> <h3 id="spring-里面哪些功能对应哪些设计模式的实现"><a href="#spring-里面哪些功能对应哪些设计模式的实现" class="header-anchor">#</a> Spring 里面哪些功能对应哪些设计模式的实现?</h3> <p>Spring 框架中的一些功能对应的设计模式实现如下：</p> <ul><li><strong>单例模式</strong>：Spring 容器中管理的 Bean 默认为单例模式，确保每个 Bean 在容器中只有一个实例。</li> <li><strong>工厂模式</strong>：Spring 使用工厂模式创建和管理 Bean，通过配置文件或注解来指定 Bean 的创建方式。</li> <li><strong>代理模式</strong>：Spring AOP（面向切面编程）功能使用动态代理实现，可以在不修改原有代码的情况下，增加额外的功能。</li> <li><strong>模板方法模式</strong>：Spring 的 JdbcTemplate 是一个典型的模板方法模式的应用，将数据库访问的公共操作封装在模板方法中，具体的实现由子类完成。</li> <li><strong>观察者模式</strong>：Spring 的事件驱动模型使用观察者模式，通过事件监听器和事件发布者实现组件之间的解耦和消息通知。</li></ul> <p>这些是 Spring 框架中一些常见功能对应的设计模式实现，通过使用设计模式可以提高代码的可维护性、可扩展性和灵活性。</p> <h3 id="spring事务怎么使用-事务注解使用过程中出现过什么问题-事务什么时候会失效-注解上面有些什么属性配置"><a href="#spring事务怎么使用-事务注解使用过程中出现过什么问题-事务什么时候会失效-注解上面有些什么属性配置" class="header-anchor">#</a> Spring事务怎么使用，事务注解使用过程中出现过什么问题，事务什么时候会失效，注解上面有些什么属性配置</h3> <p>在 Spring 中使用事务，可以通过以下步骤进行配置和使用：</p> <ul><li>配置数据源：在 Spring 配置文件中配置数据源，如连接数据库的配置。</li> <li>配置事务管理器：在 Spring 配置文件中配置事务管理器，例如使用 <code>DataSourceTransactionManager</code>。</li> <li>声明事务：在需要事务管理的方法上添加事务注解，如 <code>@Transactional</code>。</li> <li>处理事务：在方法执行过程中，如果发生异常或满足某些条件，事务将被回滚；否则，事务将被提交。</li></ul> <p>事务注解 <code>@Transactional</code> 可以配置以下属性：</p> <ul><li><code>propagation</code>：定义事务的传播行为。</li> <li><code>isolation</code>：定义事务的隔离级别。</li> <li><code>timeout</code>：定义事务超时时间。</li> <li><code>readOnly</code>：定义事务是否只读。</li> <li><code>rollbackFor</code>：定义触发事务回滚的异常类型。</li> <li><code>noRollbackFor</code>：定义不触发事务回滚的异常类型。</li></ul> <p>其中，事务的失效可能出现在未正确配置事务管理器、事务注解应用不正确、方法没有被 Spring 托管等情况下。</p> <h3 id="spring注解的自动装配机制"><a href="#spring注解的自动装配机制" class="header-anchor">#</a> Spring注解的自动装配机制</h3> <p>Spring 的注解自动装配机制通过注解来实现 Bean 的自动装配，常用的注解有：</p> <ul><li><code>@Autowired</code>：自动装配 Bean，可以用于构造方法、成员变量、Setter 方法和普通方法上。</li> <li><code>@Qualifier</code>：与 <code>@Autowired</code> 搭配使用，指定具体要注入的 Bean 的名称。</li> <li><code>@Resource</code>：类似于 <code>@Autowired</code>，但更加通用，可以根据名称或类型进行自动装配。</li> <li><code>@ComponentScan</code>：指定要扫描的包路径，自动进行组件扫描，并将带有特定注解（如 <code>@Component</code>、<code>@Service</code>、<code>@Repository</code>）的类注册为 Bean。</li> <li><code>@Component</code>：通用的组件注解，用于标识一个类为组件。</li> <li><code>@Service</code>：用于标识一个类为服务层组件。</li> <li><code>@Repository</code>：用于标识一个类为数据访问层组件（DAO）。</li> <li><code>@Controller</code>：用于标识一个类为控制器组件（用于 MVC 架构）。</li></ul> <p>通过使用这些注解，Spring 可以根据类的注解信息进行自动装配，将符合条件的 Bean 注入到需要的地方。</p> <h3 id="数据库的索引"><a href="#数据库的索引" class="header-anchor">#</a> 数据库的索引</h3> <p>数据库的索引是一种用于提高数据库查询性能的数据结构。索引可以加快数据检索的速度，减少数据库的IO操作。常见的数据库索引包括：</p> <ul><li><strong>B-树索引</strong>：是一种平衡多路搜索树，常用于传统关系型数据库。B-树索引适用于范围查询，支持高效的插入和删除操作。</li> <li><strong>B+树索引</strong>：是一种基于 B-树的改进版本，常用于现代关系型数据库。B+树索引将叶节点链接成一个有序链表，适用于范围查询和排序查询。</li> <li><strong>哈希索引</strong>：基于哈希表实现，适用于等值查询，但不支持范围查询。</li> <li><strong>全文索引</strong>：用于全文搜索，可以对文本内容进行高效的关键字搜索。</li></ul> <p>选择适当的索引类型取决于具体的查询需求和数据特点。</p> <h3 id="sql调优-执行计划"><a href="#sql调优-执行计划" class="header-anchor">#</a> sql调优，执行计划</h3> <p>SQL 调优是通过优化 SQL 查询语句和数据库结构来提高数据库查询性能的过程。以下是一些常见的 SQL 调优技巧和工具：</p> <ul><li>使用索引：为频繁查询的列创建索引，可以加快查询速度。</li> <li>避免全表扫描：尽量使用索引或优化查询语句，避免全表扫描的开销。</li> <li>优化查询语句：避免使用不必要的连接和子查询，尽量简化查询逻辑。</li> <li>分析执行计划：使用数据库管理工具或 <code>EXPLAIN</code> 命令分析查询的执行计划，找出潜在的性能问题。</li> <li>缓存查询结果：对于频繁查询但不经常变化的数据，可以考虑使用缓存来避免重复查询数据库。</li></ul> <h3 id="redis集群的搭建"><a href="#redis集群的搭建" class="header-anchor">#</a> redis集群的搭建</h3> <p>Redis 集群的搭建可以通过以下步骤实现：</p> <ul><li>安装和配置多个 Redis 节点：在不同的机器上安装 Redis，并通过修改配置文件使其成为集群的一部分。</li> <li>创建集群：使用 <code>redis-trib.rb</code> 脚本创建 Redis 集群，并指定各个节点的 IP 和端口号。</li> <li>启动集群：启动集群中的各个节点，使其开始运行。</li> <li>验证集群状态：使用 <code>redis-cli</code> 连接到集群，并执行 <code>cluster info</code> 命令来验证集群的状态。</li></ul> <p>Redis 集群提供了数据的分片和备份机制，以实现高可用性和横向扩展。</p> <h3 id="分布式锁的原理-以及使用-有没有多种方案去实现分布式锁"><a href="#分布式锁的原理-以及使用-有没有多种方案去实现分布式锁" class="header-anchor">#</a> 分布式锁的原理，以及使用，有没有多种方案去实现分布式锁</h3> <ol><li>分布式锁的原理是通过在分布式环境中协调多个节点之间的访问控制，保证同一时间只有一个节点可以访问共享资源。常见的分布式锁实现包括：</li></ol> <ul><li><p>基于数据库的锁：通过在数据库中创建唯一索引或使用悲观锁（如 <code>SELECT ... FOR UPDATE</code>）来实现分布式锁。</p></li> <li><p>基于缓存的锁：利用缓存系统（如 Redis）提供的原子操作（如</p></li> <li><p><code>SETNX</code> 和 <code>EXPIRE</code>）来实现分布式锁。</p> <ul><li>基于 ZooKeeper 的锁：利用 ZooKeeper 提供的临时节点和顺序节点特性来实现分布式锁。</li> <li>基于分布式一致性算法的锁：如基于 Paxos 或 Raft 算法实现的分布式锁。</li></ul> <p>这些分布式锁实现方案在不同的场景下具有不同的优势和适用性，选择合适的方案取决于具体的需求和系统环境。</p></li></ul> <h3 id="redisson锁实现的原理"><a href="#redisson锁实现的原理" class="header-anchor">#</a> redisson锁实现的原理</h3> <h3 id="分布式事务的实现"><a href="#分布式事务的实现" class="header-anchor">#</a> 分布式事务的实现</h3> <p>分布式事务是指涉及多个数据库或服务的事务操作，需要保证多个操作的一致性和隔离性。常见的分布式事务解决方案包括：</p> <ul><li><strong>两阶段提交（2PC）</strong>：该方案通过协调者和参与者的两个阶段来实现事务的提交和回滚。它的主要问题是协调者单点故障和阻塞的风险。</li> <li><strong>补偿事务</strong>：该方案通过在参与者中实现“补偿”操作来保证事务的一致性。当事务需要回滚时，参与者执行补偿操作来撤销之前的操作。</li> <li><strong>消息队列</strong>：该方案通过将事务操作转化为消息，并使用消息队列来保证事务的一致性。参与者将操作发送到消息队列中，协调者消费消息并执行事务操作。</li></ul> <p>选择适当的分布式事务解决方案取决于系统的需求、性能要求和可用性要求。</p> <h3 id="jwt结构以及使用场景"><a href="#jwt结构以及使用场景" class="header-anchor">#</a> JWT结构以及使用场景</h3> <p>JWT（JSON Web Token）是一种用于身份验证和授权的开放标准。它由三部分组成：头部（Header）、载荷（Payload）和签名（Signature）。JWT 的使用场景包括：</p> <ul><li><strong>身份验证</strong>：JWT 可以用于验证用户的身份，通过在请求中添加 JWT，服务器可以验证 JWT 的有效性并识别用户。</li> <li><strong>单点登录</strong>：通过在不同的系统之间共享 JWT，可以实现用户在多个系统中的单点登录。</li> <li><strong>授权</strong>：JWT 可以包含用户的权限信息，可以用于授权访问受限资源。</li> <li><strong>信息交换</strong>：由于 JWT 的结构简单且自包含，可以用于在不同的系统之间安全地传输信息。</li></ul> <p>不适合使用 JWT 的情况包括需要实时撤销令牌、需要存储大量用户信息或需要频繁更改令牌的情况。</p> <h3 id="什么情况不能使用cookie"><a href="#什么情况不能使用cookie" class="header-anchor">#</a> 什么情况不能使用cookie</h3> <h3 id="管道设计模式的使用"><a href="#管道设计模式的使用" class="header-anchor">#</a> 管道设计模式的使用</h3> <p>管道设计模式是一种行为设计模式，通过将处理对象组织成一个处理管道，使其能够按照特定的顺序依次处理请求。管道设计模式的主要目的是将复杂的处理过程分解为多个独立的处理步骤，并将它们串联起来，以便每个步骤都能够独立处理请求。</p> <p>管道设计模式的主要组成部分包括：</p> <ul><li><strong>处理器（Handler）</strong>：每个处理步骤都由一个处理器来执行。处理器通常定义一个处理方法，用于执行具体的处理逻辑，并将处理结果传递给下一个处理器。</li> <li><strong>管道（Pipeline）</strong>：管道是处理器的有序集合，它定义了处理请求的顺序。管道通常提供添加处理器、执行处理逻辑以及传递请求的方法。</li> <li><strong>请求（Request）</strong>：请求是要处理的对象。它包含了需要处理的数据以及其他相关信息。</li> <li><strong>响应（Response）</strong>：响应是处理器返回的结果。它包含了处理结果以及其他相关信息。</li></ul> <p>使用管道设计模式可以将复杂的处理逻辑分解为多个简单的处理步骤，每个步骤只需要关注自己的处理逻辑，可以提高代码的可读性、可维护性和可扩展性。此外，管道设计模式还可以灵活地组合和重用处理器，以满足不同的需求。</p> <h3 id="pipeline的运用"><a href="#pipeline的运用" class="header-anchor">#</a> Pipeline的运用</h3> <h3 id="归并排序"><a href="#归并排序" class="header-anchor">#</a> 归并排序</h3> <p>归并排序的基本思想：</p> <ol><li>将待排序的序列不断划分为较小的子序列，直到每个子序列只包含一个元素。</li> <li>逐步将相邻的子序列合并，直到最终得到完整的有序序列。</li></ol> <h5 id="_5"><a href="#_5" class="header-anchor">#</a> 5.</h5> <p><img src="/blog/assets/img/image-20231112155734081.4f55ae01.png" alt="image-20231112155734081"></p> <h2 id="_6"><a href="#_6" class="header-anchor">#</a> 6.</h2> <p><img src="/blog/assets/img/image-20231112155918363.a9b265e0.png" alt="image-20231112155918363"></p> <h2 id="_7"><a href="#_7" class="header-anchor">#</a> 7.</h2> <p><img src="/blog/assets/img/image-20231112155931210.34101161.png" alt="image-20231112155931210"></p> <h2 id="_8"><a href="#_8" class="header-anchor">#</a> 8.</h2> <p><img src="/blog/assets/img/image-20231112160629568.15da5cbb.png" alt="image-20231112160629568"></p> <p>上海中科软面试题
1.你说你未登录也可以加入购物车是如何实现了</p> <p>2.stringbuffer和 stringbuilder区别</p> <p>3.线程中 callable和runnable的区别</p> <p>4.hashtable和hashmap的区别(说hashmap底层源码和扩容机制)</p> <p>5.你遇到一个接口很慢怎么办 (慢查询日志explain看看执行流程 索引失效? 哪几种失效方式 如何规避 真的因为数据量大 分库分表的思路</p> <h2 id="_9"><a href="#_9" class="header-anchor">#</a> 9.</h2> <p><img src="/blog/assets/img/image-20231112160715710.39c48dba.png" alt="image-20231112160715710"></p> <p>11.1 浙江大成网络科技有限公司
面试:
1.离职原因
2.现在是否在公司所在地?(是否能参加线下面试? )
3.自我介绍
4.从一个List对象里边拿到一个id集合，如何用stream流实现?
5.详细描述一下HashMap
6.在项目中是否有使用到HashMap?
7.HashMap是否是线程安全的?
8，是否了解LinkedHashMap?
9.假如有100w条数据，想要查询到180w条数据中的最后一个，如何用sql语句实现?
10.如何用MyBatis-Plus做多表操作?
11.了解微服务的哪些组件?
12.对Spring有哪些了解?
13.AOP在项目中是否有体现?
14.平常的日志分析能否用AOP去做呢?
15.对过滤器和拦截器是否有了解?(Servlet)
16.你们使用Redis缓存商品详情，如果商品多的话每个商品都缓存吗?
你有哪些想了解的?</p> <h2 id="_10"><a href="#_10" class="header-anchor">#</a> 10.</h2> <p><img src="/blog/assets/img/image-20231112160732976.416ed68a.png" alt="image-20231112160732976"></p> <p>11月10号 食亨 (上海)科技服务有限公司
1自我介绍
2 之前做的项目订单的表有多大
3 项目进行了多久，项目开发的进度，开发中有哪些里程碑
4 项目里面代码量是多少
5 家政服务平台领域怎么划分
6 Java的垃圾回收机制
7 HashMap的底层原理，红黑树为什么效率高
8 在项目中哪里用到了重写equals方法，有什么效果?9 详细谈谈AOP，做了什么，怎么做的
10谈一谈SpringCloud
11 计算机网络七层模型
12 项目中遇到的最大的困难是什么
13 有哪些自己觉得做得好的亮点</p> <h2 id="_11"><a href="#_11" class="header-anchor">#</a> 11.</h2> <p><img src="/blog/assets/img/image-20231112160757799.59e446b4.png" alt="image-20231112160757799"></p> <p>43
上海新狼信息科技中心
(主要是根据简历上的内容问的)
01.四表联查效率较低，怎么解决?
02.最近项目的技术栈
03.微服务六大组件</p> <p>04.项目的开发团队
05.Spring中Bean 的生命周期</p> <p>06.Spring的循环依赖以及如何解决
07.ArrayList HashMap 的原理
08.get和post的区别
09.AOP的理解及实现方式
10.@Transactional注解 参数rollback
11.MySal between 和 in的区别
12.shiro 如何 实现认证与 授权</p> <h2 id="_12"><a href="#_12" class="header-anchor">#</a> 12.</h2> <p><img src="/blog/assets/img/image-20231112160828953.e712dd1c.png" alt="image-20231112160828953"></p> <p>11.10 深圳秦丝科技笔试
画ER图,大概的情景是:公司有7个兴趣协会，每个协会有1到3名会长，协会不定期举办活动,每次活1动后会长指定参与人员写一篇活动总结.根据这个情景来设计数据库系统ER图2.手撕SOL
表有:部门表dept,员工关系表emp。求每一部门中工作内容为&quot;CLERK&quot;的员工的最高工资，最低工资·求有哪些部门,在这些部门中薪资超过了该部门平均薪资的员工人数超过1个,按照部
门编号排序
3.代码题:说有一个摄影比赛,有100张照片,十个评委进行打分,得到一个二维数组grade[100][10].主要的就是一个2维数组,遍历这个二维数组，求去掉最高分最低分后每张图片的平均分.然后还要求那个评委最公正(就是求那个评委打的分与平均分差别最小)
面试
非技术问题:
1.自我介绍
2.为什么离职?
在深圳找工作最看重那个哪个方面?3 .
4，前公司后端开发的人数是多少?
5.项目都是从0到1开发的吗?项目上线之后有迭代维护之类的吗?这两个项目做完之后线上的运行一些情况有了解吗?这些秒杀，搜索业务上线之后有什么反馈给开发的吗?系统线上的压力方面有了解吗?系统线上的用户有多少人，还有一些信息有知道吗?
6，开发的过程中大家的工作节奏和加班情况是怎么样的?7，能否适应加班?有没有抗压的经历?从这段抗压经历中总结得到了什么经验?8，上一份工作的薪资情况?现在找工作的期望薪资是多少技术问题
项目中的表结构设计有了解吗?不是你创建的表，但是有没有看过表结构,DDL语句?看过的话就你1目前来看，数据库表结构的设计创建，有哪些值得注意和关注的点?(我上面答了项目中有一些字段进行几余设计)几余了字段会不会产生什么问题?2 .
3.讲讲数据库表结构设计的三大范式
4。按照你的理解，三大范式提出的目的是什么?满足了上面的范式之后能带来什么好处有想过吗?
在建表的时候主键id使用的什么类型?5.
用int类型上限是多少，这个值最大能是多大的数值?6
7，新插入的主键值是怎么产生的?
使用自增的话会有什么问题吗?怎么解决?0
之前有创建过哪些索引?具体能举一些例子吗?10，什么场景下面用到了联合索引?那个表,将那些字段设置为联合索引?在什么样的业务场景下用到这个联合索引?
最左匹配原则有了解吗?11.
12.索引的数据结构是怎么样的?为什么B+树为什么会比B树更适合进行范围查询?</p> <ol start="13"><li><p>有看过一条SQL语句的执行计划吗?可以看到哪些信息?</p></li> <li><p>回表是什么意思?怎么解决回表?</p></li> <li><p>15.执行计划中有一个字段叫key_len是什么意思,有什么作用?一般从里面能看到哪些信息?</p></li> <li><p>16.事务的特性，隔离级别.</p></li> <li><p>17，事务的传播行为.</p></li> <li><p>18.MYSOL默认的隔离级别是什么?如果将隔离级别改为读已提交,会产生什么问题?如果将你们项目中的数据库的隔离级别改为读已提交你觉得会不会有什么问题，哪些业务功能会有什么问题?</p></li> <li><p>19.单点登录这块是怎么做实现的?</p></li> <li><p>拿到Redis里面的信息之后会校验里面的什么信息吗?会做其他的操作吗?</p></li> <li><p>你们的Redis里面的共享会话的信息有设置过期时间吗?如果用户一直在使用，有给这个过期时间续期吗?</p></li> <li><p>网关服务将请求转发到下游服务的时候这中间还会做什么吗?ribbon是怎么知道下游服务的地址的?ribbon是需要对每一个请求都去注册中心拉去服务列表吗?</p></li> <li><p>秒杀服务如何解决库存超卖的问题的?</p></li> <li><p>seata分布式事务的AT模式是怎么实现的?怎么实现事务的一致性的?</p></li> <li><p>每个RM端的本地事务会提交吗?怎么实现回滚的呢?</p></li> <li><p>前置镜像存在什么地方?UNDO_LOG表中存的是什么内容?</p></li></ol> <h2 id="_13"><a href="#_13" class="header-anchor">#</a> 13.</h2> <p><img src="/blog/assets/img/image-20231112160923202.cc9e550a.png" alt="image-20231112160923202"></p> <p><img src="/blog/assets/img/image-20231112160945689.ccbda46d.png" alt="image-20231112160945689"></p> <p>武汉大玩家
11月10日下午5:26708字
笔试:1.什么是单例模式，写一段单例模式的伪代码
2.写一个sql语句删除学生表中的重复数据 (字段:自增主键id，姓名，年龄，学生的唯一标识sno)
3.innerioin和left ioin的过滤条件写在on和where后有什么区别
4.写一段伪代码，下单以后检查库存，没有库存抛出异常要求只发货一次并且只支付一次
5.编写一段伪代码，(高性能]实现用户登录逻辑。用户登录需验证用户密码是否正确，记录登录日志，更新登录次数，最后发送登录成功消息。
6.采用微服务架构开发的系统上线后，用户通过浏览器访问系统功能(日志查询)，页面响应非常缓慢，请说出你[全面]分析问题和解决问题的方法
7.你了解哪些消中间件?写出他们各自的特点
8.你对你未来两年的职业规划与发展</p> <p>面试:</p> <p>1.自我介绍
2.项目中遇到的更有挑战性的问题 (让你说点高级问题)
3，写分页查询的sql语句时要注意什么问题? (不是orm架的使用，如果查很多页，1000w条数据该怎么写)
4.说笔试第二题去重的思路
5.sgl里左右内链接的区别，你使用的时候怎么判断过滤条件放where还是on，有什么不同的效果，放on后面的条件会使用索引吗，使用过哪些聚合函数?
6.sql分组查询时，查询出的字段能否超过分组的字段
7.做一个查询系统，它的界面响应非常慢，你怎么分析和解决这个问题
8.如果你已经发现是数据库的查询比较慢，你怎么分析和解决，你觉得应该怎么写出一条性能高的sal: 有一条现成的sql摆在那就是查询慢，你怎么分析它哪里出了问题
9.一个表查询时能走多个索引吗
10.一个10w的表和一个1000w的表链接，谁ioin谁
11.sql语句怎么把一张表的行转列，列转行
12.mysql事务隔离级别以及对应出现的问题，并且举个例子
去阐述它们
13.数组和链表你分别会在什么场景去使用他们
14.你怎么理解微服务的，微服务的优缺点。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/skills/微服务/秒杀.html" class="prev">
        秒杀
      </a></span> <span class="next"><a href="/blog/skills/面试/面试准备.html">
        面试准备
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e95f8842.js" defer></script><script src="/blog/assets/js/3.08356745.js" defer></script><script src="/blog/assets/js/6.31dc016b.js" defer></script>
  </body>
</html>
