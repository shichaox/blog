<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java的集合类 | 琅玕的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="个人编程技术分享">
    
    <link rel="preload" href="/blog/assets/css/0.styles.671fbdd0.css" as="style"><link rel="preload" href="/blog/assets/js/app.e95f8842.js" as="script"><link rel="preload" href="/blog/assets/js/3.08356745.js" as="script"><link rel="preload" href="/blog/assets/js/19.2f69b079.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.acf34bf9.js"><link rel="prefetch" href="/blog/assets/js/11.fef1fa27.js"><link rel="prefetch" href="/blog/assets/js/12.c774ebf1.js"><link rel="prefetch" href="/blog/assets/js/13.bf6af2da.js"><link rel="prefetch" href="/blog/assets/js/14.7b60b543.js"><link rel="prefetch" href="/blog/assets/js/15.5515032c.js"><link rel="prefetch" href="/blog/assets/js/16.3c0cd04c.js"><link rel="prefetch" href="/blog/assets/js/17.80206c1e.js"><link rel="prefetch" href="/blog/assets/js/18.e5e2c85c.js"><link rel="prefetch" href="/blog/assets/js/2.9988781b.js"><link rel="prefetch" href="/blog/assets/js/20.7a923a3b.js"><link rel="prefetch" href="/blog/assets/js/21.d81d0001.js"><link rel="prefetch" href="/blog/assets/js/22.2fe5ab39.js"><link rel="prefetch" href="/blog/assets/js/23.99bc8ff5.js"><link rel="prefetch" href="/blog/assets/js/24.1fcf63f7.js"><link rel="prefetch" href="/blog/assets/js/25.a5536fa6.js"><link rel="prefetch" href="/blog/assets/js/26.e2fb222c.js"><link rel="prefetch" href="/blog/assets/js/27.03389df0.js"><link rel="prefetch" href="/blog/assets/js/28.4b72525f.js"><link rel="prefetch" href="/blog/assets/js/29.03a090ad.js"><link rel="prefetch" href="/blog/assets/js/30.87f31b47.js"><link rel="prefetch" href="/blog/assets/js/31.c639ea6f.js"><link rel="prefetch" href="/blog/assets/js/32.795ca246.js"><link rel="prefetch" href="/blog/assets/js/33.647699a4.js"><link rel="prefetch" href="/blog/assets/js/34.2909ac9c.js"><link rel="prefetch" href="/blog/assets/js/35.b5d4b577.js"><link rel="prefetch" href="/blog/assets/js/36.474a6bcb.js"><link rel="prefetch" href="/blog/assets/js/37.4590b450.js"><link rel="prefetch" href="/blog/assets/js/38.1cfbe263.js"><link rel="prefetch" href="/blog/assets/js/39.4c159456.js"><link rel="prefetch" href="/blog/assets/js/4.1c4b8134.js"><link rel="prefetch" href="/blog/assets/js/40.c52cb9af.js"><link rel="prefetch" href="/blog/assets/js/41.f77d6a1f.js"><link rel="prefetch" href="/blog/assets/js/42.c45631ae.js"><link rel="prefetch" href="/blog/assets/js/43.44644811.js"><link rel="prefetch" href="/blog/assets/js/44.c40d24aa.js"><link rel="prefetch" href="/blog/assets/js/45.0c1b86d7.js"><link rel="prefetch" href="/blog/assets/js/46.85dd5346.js"><link rel="prefetch" href="/blog/assets/js/47.a52d8379.js"><link rel="prefetch" href="/blog/assets/js/48.dfaedde6.js"><link rel="prefetch" href="/blog/assets/js/49.604893e5.js"><link rel="prefetch" href="/blog/assets/js/5.b41d7dd5.js"><link rel="prefetch" href="/blog/assets/js/50.228c7e1a.js"><link rel="prefetch" href="/blog/assets/js/51.7a95ac4e.js"><link rel="prefetch" href="/blog/assets/js/52.79ff7d2e.js"><link rel="prefetch" href="/blog/assets/js/53.7aeffa50.js"><link rel="prefetch" href="/blog/assets/js/54.c7097067.js"><link rel="prefetch" href="/blog/assets/js/6.31dc016b.js"><link rel="prefetch" href="/blog/assets/js/7.96c397d1.js"><link rel="prefetch" href="/blog/assets/js/8.e97d6841.js"><link rel="prefetch" href="/blog/assets/js/9.66ed6f07.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.671fbdd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">琅玕的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  学习
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  资源分享
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/skills/" class="nav-link router-link-active">
  学习
</a></div><div class="nav-item"><a href="/blog/share/" class="nav-link">
  资源分享
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/skills/IoT" class="sidebar-heading clickable"><span>IoT</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/IoT/基于NodeMcu的智慧生态农业系统设计.html" class="sidebar-link">基于NodeMcu的智慧生态农业系统设计</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/JavaSE" class="sidebar-heading clickable"><span>JavaSE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/JavaSE/File类和IO流.html" class="sidebar-link">File类和IO流</a></li><li><a href="/blog/skills/JavaSE/Java基础手写笔记.html" class="sidebar-link">/skills/JavaSE/Java基础手写笔记.html</a></li><li><a href="/blog/skills/JavaSE/Java常用API.html" class="sidebar-link">Java常用API</a></li><li><a href="/blog/skills/JavaSE/Thread.html" class="sidebar-link">Thread</a></li><li><a href="/blog/skills/JavaSE/内部类.html" class="sidebar-link">内部类</a></li><li><a href="/blog/skills/JavaSE/反射.html" class="sidebar-link">反射</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/DSDB" class="sidebar-heading clickable router-link-active open"><span>DSDB</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/DSDB/Collection.html" aria-current="page" class="active sidebar-link">Java的集合类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#集合" class="sidebar-link">集合</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#collection" class="sidebar-link">Collection</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_1-collection接口的作用" class="sidebar-link">1. Collection接口的作用</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_2-collection的增删查" class="sidebar-link">2. Collection的增删查</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_3-collection的遍历方法" class="sidebar-link">3. Collection的遍历方法</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_4-迭代器常见的bug" class="sidebar-link">4. 迭代器常见的bug</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#list" class="sidebar-link">List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#常用api" class="sidebar-link">常用API</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#stack" class="sidebar-link">Stack</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#queue" class="sidebar-link">Queue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_1-子接口deque-双端队列" class="sidebar-link">1. 子接口Deque(双端队列)</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_2-子接口blockingqueue-阻塞队列" class="sidebar-link">2. 子接口BlockingQueue(阻塞队列)</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#set" class="sidebar-link">Set</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_1-treeset大小比较标准" class="sidebar-link">1. TreeSet大小比较标准</a></li><li class="sidebar-sub-header"><a href="/blog/skills/DSDB/Collection.html#_2-重复的判断标准" class="sidebar-link">2. 重复的判断标准</a></li></ul></li></ul></li><li><a href="/blog/skills/DSDB/HTTP&amp;Tomcat.html" class="sidebar-link">HTTP&amp;Tomcat</a></li><li><a href="/blog/skills/DSDB/JDBC.html" class="sidebar-link">JDBC</a></li><li><a href="/blog/skills/DSDB/Map.html" class="sidebar-link">Map</a></li><li><a href="/blog/skills/DSDB/Maven.html" class="sidebar-link">Maven</a></li><li><a href="/blog/skills/DSDB/Mybatis.html" class="sidebar-link">Mybatis</a></li><li><a href="/blog/skills/DSDB/SQL.html" class="sidebar-link">SQL</a></li><li><a href="/blog/skills/DSDB/Stream.html" class="sidebar-link">Stream</a></li><li><a href="/blog/skills/DSDB/前端.html" class="sidebar-link">前端</a></li><li><a href="/blog/skills/DSDB/数据库索引.html" class="sidebar-link">数据库索引</a></li><li><a href="/blog/skills/DSDB/连接池.html" class="sidebar-link">/skills/DSDB/连接池.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/JavaEE&amp;Spring" class="sidebar-heading clickable"><span>JavaEE&amp;Spring</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/JavaEE&amp;Spring/MyBatis-Spring.html" class="sidebar-link">MyBatis - Spring、Spring事务</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/Request&amp;Response.html" class="sidebar-link">Request &amp; Response</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/Servlet.html" class="sidebar-link">Servlet</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringAOP.html" class="sidebar-link">Spring AOP</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringBoot.html" class="sidebar-link">SpringBoot</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringIOC.html" class="sidebar-link">Spring IOC</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/SpringMVC.html" class="sidebar-link">Spring MVC</a></li><li><a href="/blog/skills/JavaEE&amp;Spring/设计模式.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/微服务" class="sidebar-heading clickable"><span>微服务</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/微服务/ElasticSearch.html" class="sidebar-link">ElasticSearch</a></li><li><a href="/blog/skills/微服务/Gateway.html" class="sidebar-link">Gateway</a></li><li><a href="/blog/skills/微服务/MapStruct.html" class="sidebar-link">MapStruct</a></li><li><a href="/blog/skills/微服务/Mybatis-Plus.html" class="sidebar-link">Mybatis-Plus</a></li><li><a href="/blog/skills/微服务/Nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/blog/skills/微服务/Redis.html" class="sidebar-link">Redis</a></li><li><a href="/blog/skills/微服务/Redis在Java项目中的使用.html" class="sidebar-link">Redis在Java项目中的使用</a></li><li><a href="/blog/skills/微服务/RocketMQ.html" class="sidebar-link">RocketMQ</a></li><li><a href="/blog/skills/微服务/SpringCloud.html" class="sidebar-link">SpringCloud</a></li><li><a href="/blog/skills/微服务/微服务.html" class="sidebar-link">微服务</a></li><li><a href="/blog/skills/微服务/微服务架构和单体架构.html" class="sidebar-link">微服务架构和单体架构</a></li><li><a href="/blog/skills/微服务/秒杀.html" class="sidebar-link">秒杀</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/skills/面试" class="sidebar-heading clickable"><span>面试</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/面试/面经.html" class="sidebar-link">面经</a></li><li><a href="/blog/skills/面试/面试准备.html" class="sidebar-link">面试准备</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java的集合类"><a href="#java的集合类" class="header-anchor">#</a> Java的集合类</h1> <h2 id="集合"><a href="#集合" class="header-anchor">#</a> 集合</h2> <blockquote><p>在Java中，集合指的就是存放数据的容器，是一个载体，可以一次容纳多个对象。</p></blockquote> <p>和数组比较像，那为什么要提供一套集合类？就是因为数组操作起来麻烦，容易出bug。集合类帮助我们把操作数组这个过程隐藏起来了，数组长度不够就扩容，删除数据的时候就挪动数据。</p> <p><img src="/blog/assets/img/image-20230802203728374.ae5991f6.png" alt="image-20230802203728374"></p> <h2 id="collection"><a href="#collection" class="header-anchor">#</a> Collection</h2> <h3 id="_1-collection接口的作用"><a href="#_1-collection接口的作用" class="header-anchor">#</a> 1. Collection接口的作用</h3> <h3 id="_2-collection的增删查"><a href="#_2-collection的增删查" class="header-anchor">#</a> 2. Collection的增删查</h3> <p>增：add()、addAll()</p> <p>删：remove()、removeAll(Collection&lt;?&gt; c)</p> <p>查：contains(Object o)、containsAll(Collection&lt;?&gt; c)</p> <p>取交集：retainsAll(Collection&lt;?&gt; c)</p> <p>其他：clear()、equals(o)、hashCode()、isEmpty()、size()</p> <h3 id="_3-collection的遍历方法"><a href="#_3-collection的遍历方法" class="header-anchor">#</a> 3. Collection的遍历方法</h3> <h4 id="_3-1-toarray方法"><a href="#_3-1-toarray方法" class="header-anchor">#</a> 3.1 toArray方法</h4> <p>将Collection转化为数组，然后通过遍历这个数组来遍历这个Collection。</p> <p>toArray方法有两种：有参和无参</p> <p>无参：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有参：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ArrayList</span> <span class="token punctuation">{</span>
    <span class="token comment">//底层数组及长度</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> elementData<span class="token punctuation">;</span>
    <span class="token keyword">int</span> size<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//当传入的数组长度小于集合长度，直接复制底层存储的数据</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> size<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span><span class="token class-name">ElementData</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//只要走到这一步，就说明传入的数组长度大于等于集合的长度，直接把底层的数组复制给传入的数组</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arrayCopy</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//如果传入的数组长度大于size，就把第一个空余的位置赋值null</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> size<span class="token punctuation">)</span> 
            a<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有参和无参的区别：</p> <h4 id="_3-2-iterator方法"><a href="#_3-2-iterator方法" class="header-anchor">#</a> 3.2 iterator方法</h4> <p>迭代器， 又称光标(cursor)</p> <p>迭代器在使用的过程中，如果原有结构发生改变，就会报错(ConcurrentModificationException)，不允许使用迭代器外部的方法对迭代对象进行修改。比如删除，ArrayList<String> list的一个元素，不能用，list.remove()，只能用iterator.remove().</String></p> <p>迭代器的使用方法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> listIterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> t <span class="token operator">=</span> listIterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-3-for-each"><a href="#_3-3-for-each" class="header-anchor">#</a> 3.3 for-each</h4> <p>for-each语句的底层也是iterator</p> <h3 id="_4-迭代器常见的bug"><a href="#_4-迭代器常见的bug" class="header-anchor">#</a> 4. 迭代器常见的bug</h3> <h2 id="list"><a href="#list" class="header-anchor">#</a> List</h2> <h3 id="常用api"><a href="#常用api" class="header-anchor">#</a> 常用API</h3> <p>add()、addAll()</p> <p>remove()</p> <p>set()</p> <p>get()</p> <p>indexOf()</p> <p>lastIndexOf()</p> <p>listIterator()</p> <p>subList()</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">父类接口</th> <th style="text-align:center;">底层结构</th> <th style="text-align:center;">数据增长</th> <th style="text-align:center;">存储是否有序</th> <th style="text-align:center;">是否允许重复</th> <th style="text-align:center;">是否允许存储null</th></tr></thead> <tbody><tr><td style="text-align:center;">ArrayList</td> <td style="text-align:center;">List</td> <td style="text-align:center;">数组</td> <td style="text-align:center;"><strong>1.5</strong>?</td> <td style="text-align:center;">有序</td> <td style="text-align:center;">允许</td> <td style="text-align:center;">允许</td></tr> <tr><td style="text-align:center;">Vector</td> <td style="text-align:center;">List</td> <td style="text-align:center;">数组</td> <td style="text-align:center;">2?</td> <td style="text-align:center;">有序</td> <td style="text-align:center;">允许</td> <td style="text-align:center;">允许</td></tr> <tr><td style="text-align:center;">LinkedList</td> <td style="text-align:center;">List、Deque</td> <td style="text-align:center;">链表</td> <td style="text-align:center;"></td> <td style="text-align:center;">有序</td> <td style="text-align:center;">允许</td> <td style="text-align:center;">允许</td></tr></tbody></table> <ol><li>实现了哪个接口：</li> <li>数据结构：</li> <li>底层结构：</li> <li>存储是否有序：</li> <li>存储null：</li> <li>存储重复元素：</li></ol> <h3 id="stack"><a href="#stack" class="header-anchor">#</a> Stack</h3> <p>Stack效率很低，使用Deque来代替Statck</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span>integer<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="queue"><a href="#queue" class="header-anchor">#</a> Queue</h2> <table><thead><tr><th></th> <th style="text-align:center;">父类接口</th> <th style="text-align:center;">数据结构</th> <th>底层结构</th> <th style="text-align:center;">存储是否有序</th> <th>是否允许重复</th> <th style="text-align:center;">是否允许存储null</th></tr></thead> <tbody><tr><td>Queue(接口)</td> <td style="text-align:center;">Collection</td> <td style="text-align:center;">队列</td> <td></td> <td style="text-align:center;">有序</td> <td>允许</td> <td style="text-align:center;">不能</td></tr> <tr><td>Deque(接口)</td> <td style="text-align:center;">Queue</td> <td style="text-align:center;">队列、栈、双端队列</td> <td></td> <td style="text-align:center;">有序</td> <td>允许</td> <td style="text-align:center;">不能存储null（LinkedList除外）</td></tr> <tr><td><strong>ArrayDeque(实现类)</strong></td> <td style="text-align:center;">Deque</td> <td style="text-align:center;">队列、栈、双端队列</td> <td>循环数组</td> <td style="text-align:center;">有序</td> <td>允许</td> <td style="text-align:center;">不能</td></tr> <tr><td>BlockingQueue(接口)</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td></td> <td style="text-align:center;"></td> <td></td> <td style="text-align:center;"></td></tr> <tr><td>BlockingDeque(接口)</td> <td style="text-align:center;">BlockingQueue、Deque</td> <td style="text-align:center;"></td> <td></td> <td style="text-align:center;"></td> <td></td> <td style="text-align:center;"></td></tr> <tr><td><strong>LinkedBlockingDeque(实现类)</strong></td> <td style="text-align:center;">BlockingDeque</td> <td style="text-align:center;"></td> <td></td> <td style="text-align:center;"></td> <td></td> <td style="text-align:center;"></td></tr></tbody></table> <p>极端条件下两组API对比：</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">抛出异常</th> <th style="text-align:center;">返回特殊值</th> <th style="text-align:center;">阻塞队列</th> <th style="text-align:center;">阻塞超时</th></tr></thead> <tbody><tr><td style="text-align:center;">队满 插入</td> <td style="text-align:center;">add(e)</td> <td style="text-align:center;">offer(e) 入队</td> <td style="text-align:center;">put(e)</td> <td style="text-align:center;">offer(e, time,unit)</td></tr> <tr><td style="text-align:center;">队空 移除</td> <td style="text-align:center;">remove()</td> <td style="text-align:center;">poll() 出队</td> <td style="text-align:center;">take()</td> <td style="text-align:center;">poll(time, unit)</td></tr> <tr><td style="text-align:center;">检查</td> <td style="text-align:center;">element() 获取但不移除队头</td> <td style="text-align:center;">peek() 获取队头但是不出队</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td></tr></tbody></table> <h3 id="_1-子接口deque-双端队列"><a href="#_1-子接口deque-双端队列" class="header-anchor">#</a> 1. 子接口Deque(双端队列)</h3> <p>Deque</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">作为双端队列</th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;">作为Queue</th> <th style="text-align:center;">作为Stack</th></tr></thead> <tbody><tr><td style="text-align:center;"></td> <td style="text-align:center;">头</td> <td style="text-align:center;">尾</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">插入</td> <td style="text-align:center;">offerFirst(e)</td> <td style="text-align:center;">offerLast(e)</td> <td style="text-align:center;">addFirst(e)</td> <td style="text-align:center;">addLast(e)</td> <td style="text-align:center;">offer(e)</td> <td style="text-align:center;">push()(入栈)</td></tr> <tr><td style="text-align:center;">移除</td> <td style="text-align:center;">pollFirst()</td> <td style="text-align:center;">pollLast()</td> <td style="text-align:center;">removeFirst()</td> <td style="text-align:center;">removeLast()</td> <td style="text-align:center;">poll()</td> <td style="text-align:center;">pop(出栈)</td></tr> <tr><td style="text-align:center;">获取</td> <td style="text-align:center;">peekFirst()</td> <td style="text-align:center;">peekLast()</td> <td style="text-align:center;">getFirst()</td> <td style="text-align:center;">getLast()</td> <td style="text-align:center;">peek()</td> <td style="text-align:center;">-</td></tr></tbody></table> <p>实现类：ArrayDeque</p> <p>初始容量16，扩容*2</p> <h3 id="_2-子接口blockingqueue-阻塞队列"><a href="#_2-子接口blockingqueue-阻塞队列" class="header-anchor">#</a> 2. 子接口BlockingQueue(阻塞队列)</h3> <p>-&gt; 子接口BlockingDeque -&gt; 实现类：LinkedBlockingDeque</p> <p>阻塞队列是一个大小有限的队列。</p> <ul><li>插入时，当队列满了，插入线程阻塞。</li> <li>从队列中获取元素时，当队列空了，获取线程阻塞。</li></ul> <h2 id="set"><a href="#set" class="header-anchor">#</a> Set</h2> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">父类接口</th> <th style="text-align:center;">数据结构</th> <th style="text-align:center;">实现</th> <th style="text-align:center;">存储是否有序</th> <th style="text-align:center;">是否允许重复</th> <th style="text-align:center;">是否允许存储null</th></tr></thead> <tbody><tr><td style="text-align:center;">Set(接口)</td> <td style="text-align:center;">Collection</td> <td style="text-align:center;">集合</td> <td style="text-align:center;">-</td> <td style="text-align:center;">-</td> <td style="text-align:center;">不允许</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">TreeSet</td> <td style="text-align:center;">Set</td> <td style="text-align:center;"></td> <td style="text-align:center;">TreeMap</td> <td style="text-align:center;">大小有序</td> <td style="text-align:center;">不允许</td> <td style="text-align:center;">不允许</td></tr> <tr><td style="text-align:center;">HashSet</td> <td style="text-align:center;">Set</td> <td style="text-align:center;"></td> <td style="text-align:center;">HashMap</td> <td style="text-align:center;">无序</td> <td style="text-align:center;">不允许</td> <td style="text-align:center;">允许</td></tr> <tr><td style="text-align:center;">LinkedHashSet</td> <td style="text-align:center;">HashSet</td> <td style="text-align:center;"></td> <td style="text-align:center;">LinkedHashMap</td> <td style="text-align:center;">有序</td> <td style="text-align:center;">不允许</td> <td style="text-align:center;">允许</td></tr></tbody></table> <h3 id="_1-treeset大小比较标准"><a href="#_1-treeset大小比较标准" class="header-anchor">#</a> 1. TreeSet大小比较标准</h3> <p>重写比较对象的比较方法。</p> <ol><li>为比较对象对应的类实现Comparable接口，重写比较方法。</li> <li>在TreeSet构造器中传入一个比较器。</li></ol> <h3 id="_2-重复的判断标准"><a href="#_2-重复的判断标准" class="header-anchor">#</a> 2. 重复的判断标准</h3> <ol><li>TreeSet: Comparable返回0</li> <li>hashCode &amp;&amp; equals</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/skills/JavaSE/反射.html" class="prev">
        反射
      </a></span> <span class="next"><a href="/blog/skills/DSDB/HTTP&amp;Tomcat.html">
        HTTP&amp;Tomcat
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e95f8842.js" defer></script><script src="/blog/assets/js/3.08356745.js" defer></script><script src="/blog/assets/js/19.2f69b079.js" defer></script>
  </body>
</html>
